{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\component\\knife/assets\\scripts\\battle\\component\\knife\\KnifeInit.js"],"names":["GameData","require","KnifeMomentState","KnifeInit","cc","Class","extends","Component","properties","init","entityPlayer","node","emit","teamID","Init","instance","localHeroTid","addKnife"],"mappings":";;;;;;AAAA;;;;AAIA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,mBAAmBD,QAAQ,OAAR,EAAiBC,gBAA1C;AACA,IAAMC,YAAYC,GAAGC,KAAH,CAAS;AACvBC,aAASF,GAAGG,SADW;;AAGvBC,gBAAY,EAHW;;AAOvBC,UAAM,cAAUC,YAAV,EAAwB;AAC1B,aAAKA,YAAL,GAAoBA,YAApB;AACA,aAAKC,IAAL,CAAUC,IAAV,CAAe,WAAf,EAA4B,KAAKF,YAAL,CAAkBG,MAA9C;AACA,aAAKF,IAAL,CAAUC,IAAV,CAAe,mBAAf,EAAoCV,iBAAiBY,IAArD;;AAEA;AACA,YAAI,KAAKJ,YAAL,CAAkBG,MAAlB,KAA6Bb,SAASe,QAAT,CAAkBC,YAAnD,EAAiE;AAC7D;AACH,SAFD,MAEO,CAEN;AADG;;;AAGJ;AACA,aAAKN,YAAL,CAAkBO,QAAlB,CAA2B,KAAKN,IAAhC;AAGH;;AAED;AACA;AACA;;;AAGA;;;AAGA;;AAjCuB,CAAT,CAAlB","file":"KnifeInit.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\component\\knife","sourcesContent":["/**\n * @fileoverview 玩家自带的刀初始化\n * @author meifan@gameley.cn (梅凡)\n */\nconst GameData = require('GameData');\nconst KnifeMomentState = require('Types').KnifeMomentState;\nconst KnifeInit = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n\n    init: function (entityPlayer) {\n        this.entityPlayer = entityPlayer;\n        this.node.emit('changeTag', this.entityPlayer.teamID);\n        this.node.emit('updateMomentState', KnifeMomentState.Init);\n\n        // 判定tag是否等于是本地玩家\n        if (this.entityPlayer.teamID === GameData.instance.localHeroTid) {\n            // this.node.emit('changeKnifeAttackGroup', 'knife');\n        } else {\n            // this.node.emit('changeKnifeAttackGroup', 'otherKnife');\n        }\n\n        // this.bInit = false;\n        this.entityPlayer.addKnife(this.node);\n\n\n    },\n\n    // lateUpdate: function (dt) {\n    //     if(!this.bInit) {\n    //         this.bInit = true;\n\n\n    //     }\n\n\n    // }\n\n});"]}