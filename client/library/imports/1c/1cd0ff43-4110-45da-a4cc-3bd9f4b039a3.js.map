{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\logicComponent/assets\\scripts\\battle\\logicComponent\\LogicPlayer.js"],"names":["Tools","require","cc","Class","extends","Component","properties","init","entityPlayer","knivesCmp","followPlayer","updateLogic","isDirty","emitAllKnivesCountChange","radius","getRadiusByKnifeCount","knives","length","node","emit","resetDirty"],"mappings":";;;;;;AAAA,IAAMA,QAAQC,QAAQ,OAAR,CAAd;AACA;;;;AAIAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY,EAFP;;AAILC,UAAM,cAAUC,YAAV,EAAwB;AAC1B,aAAKA,YAAL,GAAoBA,YAApB;AACA,aAAKC,SAAL,GAAiBD,aAAaE,YAAb,CAA0BD,SAA3C;AACH,KAPI;;AASLE,iBAAa,uBAAY;AACrB,YAAI,KAAKF,SAAL,CAAeG,OAAnB,EAA4B;AACxB,iBAAKH,SAAL,CAAeI,wBAAf;AACA,gBAAMC,SAASd,MAAMe,qBAAN,CAA4B,KAAKN,SAAL,CAAeO,MAAf,CAAsBC,MAAlD,CAAf;AACA,iBAAKH,MAAL,GAAcA,MAAd;AACA,iBAAKL,SAAL,CAAeS,IAAf,CAAoBC,IAApB,CAAyB,cAAzB,EAAyCL,MAAzC;AACA,iBAAKN,YAAL,CAAkBU,IAAlB,CAAuBC,IAAvB,CAA4B,cAA5B,EAA4CL,MAA5C;AACA,iBAAKL,SAAL,CAAeW,UAAf;AACH;AACJ;;AAlBI,CAAT","file":"LogicPlayer.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\logicComponent","sourcesContent":["const Tools = require('Tools');\n/**\n * @fileoverview 玩家的逻辑组件\n * @author jinhaitao@gameley.cn (金海涛)\n */\ncc.Class({\n    extends: cc.Component,\n    properties: {},\n\n    init: function (entityPlayer) {\n        this.entityPlayer = entityPlayer;\n        this.knivesCmp = entityPlayer.followPlayer.knivesCmp;\n    },\n\n    updateLogic: function () {\n        if (this.knivesCmp.isDirty) {\n            this.knivesCmp.emitAllKnivesCountChange();\n            const radius = Tools.getRadiusByKnifeCount(this.knivesCmp.knives.length);\n            this.radius = radius;\n            this.knivesCmp.node.emit('radiusChange', radius);\n            this.entityPlayer.node.emit('radiusChange', radius);\n            this.knivesCmp.resetDirty();\n        }\n    },\n\n})"]}