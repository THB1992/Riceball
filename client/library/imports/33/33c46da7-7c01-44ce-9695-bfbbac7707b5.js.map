{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\ui/assets\\scripts\\battle\\ui\\ItemKnifeSkin.js"],"names":["ListItemBase","require","Tools","cc","Class","extends","properties","lockNode","Node","checkNode","equipNode","priceNode","priceLabel","Label","iconSprite","Sprite","taskLabel","needCheckNode","canUnLockNode","propertyNode","propertyLabel","newNode","goldIcon","diamondIcon","suitNode","init","data","price","string","getGoldStr","propertyTips","active","priceType","loader","loadRes","url","SpriteFrame","error","resource","spriteFrame","i","children","length","suit","refresh","isGet","canUnLock","needCheck","isNew","processStr","node","opacity","getWay","y","one","taskShortOne","two","taskShortTwo","str","setCheck","isCheck","setEquip","isEquip"],"mappings":"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","file":"ItemKnifeSkin.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\ui","sourcesContent":["/**\r\n * @fileoverview 刀的商店皮肤item\r\n * @author zhangzhuang@gameley.cn (张庄)\r\n */\r\nconst ListItemBase = require('ListItemBase')\r\nconst Tools = require('Tools');\r\ncc.Class({\r\n    extends: ListItemBase,\r\n\r\n    properties: {\r\n        lockNode: cc.Node,\r\n        checkNode: cc.Node,\r\n        equipNode: cc.Node,\r\n        priceNode: cc.Node,\r\n        priceLabel: cc.Label,\r\n        iconSprite: cc.Sprite,\r\n        taskLabel: cc.Label,\r\n        needCheckNode: cc.Node,\r\n        canUnLockNode: cc.Node,\r\n\r\n        propertyNode: cc.Node,\r\n        propertyLabel: cc.Label,\r\n\r\n        newNode: cc.Node,\r\n\r\n        goldIcon: cc.Node,\r\n        diamondIcon: cc.Node,\r\n        suitNode: cc.Node,\r\n    },\r\n\r\n    init: function (data) {\r\n        this.data = data;\r\n        if (data.price) this.priceLabel.string = Tools.getGoldStr(data.price);\r\n        if (data.propertyTips) this.propertyLabel.string = data.propertyTips;\r\n        this.goldIcon.active = data.priceType === 0;\r\n        this.diamondIcon.active = data.priceType === 1;\r\n\r\n        cc.loader.loadRes(data.url, cc.SpriteFrame, (error, resource) => {\r\n            if (error) {\r\n                cc.error(error);\r\n            } else if (resource) {\r\n                this.iconSprite.spriteFrame = resource;\r\n            }\r\n        })\r\n\r\n        for (let i = 0; i < this.suitNode.children.length; i++) {\r\n            if (this.suitNode.children[i]) {\r\n                this.suitNode.children[i].active = (i + 1) == data.suit;\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    refresh: function (isGet, canUnLock, needCheck, isNew, processStr) {\r\n        this.isGet = isGet;\r\n        this.lockNode.active = isGet || canUnLock ? false : true;\r\n        // this.iconSprite.setState(isGet || canUnLock ? cc.Sprite.State.NORMAL : cc.Sprite.State.GRAY);\r\n        this.iconSprite.node.opacity = isGet || canUnLock ? 255 : 153;\r\n        this.priceNode.active = isGet || this.data.getWay === 1 ? false : true;\r\n        this.taskLabel.node.active = !isGet && this.data.getWay === 1 && !canUnLock ? true : false;\r\n        this.needCheckNode.active = isGet && needCheck ? true : false;\r\n        this.canUnLockNode.active = !isGet && canUnLock ? true : false;\r\n\r\n        this.propertyNode.active = this.data.propertyTips ? true : false;\r\n        this.propertyNode.y = isGet ? -50 : 50;\r\n        this.suitNode.y = isGet || canUnLock ? -50 : 50;\r\n        this.newNode.active = !isGet && isNew ? true : false;\r\n        if (processStr || processStr === '') {\r\n            var one = this.data.taskShortOne ? this.data.taskShortOne : '';\r\n            var two = this.data.taskShortTwo ? this.data.taskShortTwo : '';\r\n            var str = '';\r\n            this.taskLabel.string = one;\r\n            str = this.taskLabel.string + processStr;\r\n            this.taskLabel.string = two;\r\n            str += this.taskLabel.string;\r\n            this.taskLabel.string = str\r\n        }\r\n    },\r\n\r\n    setCheck: function (isCheck) {\r\n        this.checkNode.active = isCheck;\r\n    },\r\n\r\n    setEquip: function (isEquip) {\r\n        this.equipNode.active = isEquip;\r\n    },\r\n});"]}