{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\component\\effect/assets\\scripts\\battle\\component\\effect\\ActiveByOwner.js"],"names":["ActiveByOwner","cc","Class","extends","Component","properties","player","_isDefence","init","entityPlayer","activeNode","active","update","dt","beKilled","isDefence"],"mappings":";;;;;;AAAA;;;;;AAKA,IAAMA,gBAAgBC,GAAGC,KAAH,CAAS;AAC3BC,aAASF,GAAGG,SADe;;AAG3BC,gBAAY;AACRC,gBAAQ,IADA;AAERC,oBAAY;AAFJ,KAHe;;AAQ3BC,UAAM,cAAUC,YAAV,EAAwBC,UAAxB,EAAoC;AACtC,aAAKJ,MAAL,GAAcG,YAAd;AACA,aAAKC,UAAL,GAAkBA,UAAlB;AACA,aAAKA,UAAL,CAAgBC,MAAhB,GAAyB,KAAzB;AACH,KAZ0B;;AAc3BC,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAG,KAAKP,MAAL,CAAYQ,QAAZ,EAAH,EAA2B;AACvB,gBAAG,KAAKP,UAAR,EAAoB;AAChB,qBAAKA,UAAL,GAAkB,KAAlB;AACA,qBAAKG,UAAL,CAAgBC,MAAhB,GAAyB,KAAzB;AACH;AACD;AACH;;AAED,YAAG,KAAKJ,UAAL,KAAoB,KAAKD,MAAL,CAAYS,SAAnC,EAA8C;AAC1C,iBAAKR,UAAL,GAAkB,KAAKD,MAAL,CAAYS,SAA9B;AACA,iBAAKL,UAAL,CAAgBC,MAAhB,GAAyB,KAAKJ,UAA9B;AACH;AACJ;;AA3B0B,CAAT,CAAtB","file":"ActiveByOwner.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\component\\effect","sourcesContent":["/**\n * @fileoverview ActiveByOwner\n * @author meifan@gameley.cn (梅凡)\n */\n\nconst ActiveByOwner = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        player: null,\n        _isDefence: true,\n    },\n\n    init: function (entityPlayer, activeNode) {\n        this.player = entityPlayer;\n        this.activeNode = activeNode;\n        this.activeNode.active = false;\n    },\n\n    update: function (dt) {\n        if(this.player.beKilled()) {\n            if(this._isDefence) {\n                this._isDefence = false;\n                this.activeNode.active = false;\n            }\n            return;\n        }\n\n        if(this._isDefence !== this.player.isDefence) {\n            this._isDefence = this.player.isDefence;\n            this.activeNode.active = this._isDefence;\n        }\n    }\n\n});"]}