{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\component\\knife/assets\\scripts\\battle\\component\\knife\\KnifeStateComponent.js"],"names":["KnifeState","require","cc","Class","extends","Component","properties","state","Normal","isDirty","onLoad","node","on","updateState","resetDirty"],"mappings":";;;;;;AAAA;;;;AAIA,IAAMA,aAAaC,QAAQ,OAAR,EAAiBD,UAApC;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,eAAOP,WAAWQ,MADV;AAERC,iBAAS;AAFD,KAFP;;AAOLC,YAAQ,kBAAY;AAChB,aAAKC,IAAL,CAAUC,EAAV,CAAa,aAAb,EAA4B,KAAKC,WAAjC,EAA8C,IAA9C;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA2B,KAAKE,UAAhC,EAA4C,IAA5C;AACH,KAVI;;AAYLD,iBAAa,qBAAUN,KAAV,EAAiB;AAC1B,YAAI,KAAKA,KAAL,KAAeA,KAAnB,EAA0B;;AAE1B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAKA,KAAL,GAAaA,KAAb;AACA,aAAKE,OAAL,GAAe,IAAf;AACH,KAzBI;;AA2BLK,gBAAY,sBAAY;AACpB,aAAKL,OAAL,GAAe,KAAf;AACH;AA7BI,CAAT","file":"KnifeStateComponent.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\component\\knife","sourcesContent":["/**\n * @fileoverview 刀状态组件\n * @author jinhaitao@gameley.cn (金海涛)\n */\nconst KnifeState = require('Types').KnifeState;\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        state: KnifeState.Normal,\n        isDirty: false,\n    },\n\n    onLoad: function () {\n        this.node.on('updateState', this.updateState, this);\n        this.node.on('resetDirty', this.resetDirty, this);\n    },\n\n    updateState: function (state) {\n        if (this.state === state) return;\n\n        // if (state === KnifeState.Attack) {\n        //     this.node.children[4].color = cc.Color.GREEN;\n        // }\n\n        // if (state === KnifeState.Defence) {\n        //     this.node.children[4].color = cc.Color.RED;\n        // }\n\n        this.state = state;\n        this.isDirty = true;\n    },\n\n    resetDirty: function () {\n        this.isDirty = false;\n    }\n})"]}