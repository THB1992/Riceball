{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\common/assets\\scripts\\common\\Tools.js"],"names":["getTime","WX_GAME_ENV","QQ_GAME_ENV","WX_GAME_DEVTOOLS","POINT_EPSILON","parseFloat","OUT_OF_VIEW_POS","cc","v2","Tools","Class","statics","systemInfo","isH5","init","platformType","sys","platform","WECHAT_GAME","QQ_PLAY","cleanUp","obj","node","game","isPersistRootNode","removePersistRootNode","destroy","setNodeVisible","visible","_customInvisibleFlag","setNodeColor","color","particleSystem","getComponent","ParticleSystem","startColor","endColor","children","length","index","child","setNodeOpacity","opacity","isNodeVisible","getNodeToCameraPoint","position","camera","worldPos","parent","convertToWorldSpaceAR","point","getWorldToCameraPoint","isEmptyObject","Object","keys","constructor","getUuid","replace","c","r","Math","random","v","toString","getMd5Url","url","loader","md5Pipe","transformURL","getRawUrl","resUrl","raw","getRemoteRawUrl","str","getUrlWithoutQueryString","substring","lastIndexOf","qqPlayDownloader","REMOTE_SERVER_ROOT","wxDownloader","getConstructor","typeOrClassName","errorID","js","getClassByName","getOrAddComponent","comp","ret","addComponent","getMilliTime","window","performance","now","CC_DEBUG","log","wx","getPerformance","webkitNow","Date","getTimestampMS","floor","getTimestampS","getNearestPastWeeklyTimestamp","_day","_hours","date","day","getDay","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","diffMilliseconds","tmpMilliseconds","time","isBetweenRange","count","arr","getRandomInt","min","max","ceil","getRandomFloat","getRandomBool","getRandomIndex","array","getRandomItem","getItemOrFinalItem","getItemById","id","item","compareVec2","v1","threshold","sub","magSqr","compareVec2Float","x","y","isFloatEqual","f1","f2","abs","inverseLerp","a","b","value","setAccDivFunc","Number","prototype","div","arg","accDiv","arg1","arg2","t1","t2","r1","r2","split","e","pow","smoothDamp","current","target","currentVelocity","smoothTime","maxSpeed","deltaTime","num","num2","num3","num4","num5","num6","clamp","num7","num8","splitToNumList","char","strs","nums","i","push","getVec2MagSqr","vec2","getStrLength","realLength","len","charCode","charCodeAt","subStrByCharacter","codeCount","location","protocol","host","pathname","join","getQueryString","name","href","regexS","regex","RegExp","results","exec","webCopyString","input","el","document","createElement","setAttribute","style","contain","left","fontSize","selection","getSelection","originalRange","rangeCount","getRangeAt","body","appendChild","select","selectionStart","selectionEnd","success","execCommand","err","removeChild","removeAllRanges","addRange","getMd5","s","L","k","d","K","G","I","F","H","q","p","n","u","aa","Z","f","D","t","Array","B","substr","J","String","fromCharCode","C","P","h","E","g","Y","X","W","V","S","Q","N","M","A","z","w","o","m","l","j","U","T","R","O","toLowerCase","isOutOfScreen","pos","size","winSize","width","height","isStringInteger","test","compareVersionStr","a_components","b_components","parseInt","getShowNickName","nickName","getStringByFormat","args","result","arguments","key","undefined","reg","reg2","rotationVectorToInt","vector","Vec2","ZERO","vec2SignAngle","UP","PI","round","rotationIntToVector","intAngle","angle","rotate","getDigitFactor","digit","isDivide","getIntVec2","joVec","set","factor","mulSelf","getFloatParsedByInt","intValue","checkDownKillWeaponType","weaponId","getTimeCount","curTime","endTime","timeCount","nTime","hour","minute","second","getDayTimeCount","dayCount","getRealDayTimeCount","start","toLocaleDateString","startTime","getRemainTimeStr","getNumStr","getRemainTimeLongStr","getRemainTimeShortStr","timestampToTime","timestamp","getFullYear","getMonth","getDate","timestampToSecond","isAfterOtherTime","otherTime","curTimeStamp","endTimeStamp","getTimeStampByTimeStr","isBeforeOtherTime","isAfterCheckTime","console","setHours","setMinutes","setSeconds","isBetweenTwoTime","startTimeStamp","filterDataByTime","datas","ownArr","gameData","hideSpecialSkin","isIosPlatfrom","isAndroidApp","data","isBefore_2","startDate_2","isAfter_2","endDate_2","getWay","introduce","introduce_2","indexOf","isBefore","startDate","isAfter","endDate","splice","isInReview","isHideInReview","isHideInIOS","isHideInAndroidApp","isBetweenTimeRange","ranges","strArr","rangesArr","param","range","startHour","endHour","isBetweenCountRange","nax","isDaySpan","lastTime","isHourSpan","configHours","lastHour","curHour","isInConfigHours","arrContains","timeStr","os","OS_IOS","checkItem","arrRemove","removeItem","createQueryString","queryObject","queryString","flag","hasOwnProperty","paramStr","hexToColor","hex","Color","fromHEX","getRealTimeCount","realStartTime","getCountDownTimeByZero","getCountDownTime","pAngleSigned","a2","normalize","b2","atan2","dot","pSegmentIntersect","retP","pLineIntersect","BAx","BAy","DCx","DCy","ACx","ACy","denom","setLargeItem","path","BK","FileUtil","isFileExist","deleteFile","writeFile","setItem","getLargeItem","readFile","readAsString","getItem","setStorage","localStorage","getStorageSync","Script","setInvisibleAfterUpdateRenderData","callback","originPos","active","scheduleFunc","scheduleOnce","getFrameRate","getRadiusByKnifeCount","firstRadius","radius","getRadioByCount","newCount","getIntervalByCount","isInMyView","self","other","worldRect","localPos","finalPos","convertToNodeSpaceAR","otherPos","zoomRatio","center","otherRect","defenceRect","getRect","intersects","compareVersion","num1","getPositiveOrNegative","getCenterParam","detail","worldPos1","worldPos2","centerPos","offset","dir","rotation","getRotationByDir","getGoldStr","getCurStage","playCount","limits","stagePrecents","stage","limit","int","jsonToArray","jsonObj","isJson","isjson","call","getRandomItemByWeight","limitWeights","totalWeight","weight","createEventHandler","component","handlerFuncName","customEventData","handler","Component","EventHandler","copyObj","getStrlen"],"mappings":"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","file":"Tools.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\common","sourcesContent":["import {\n    stringify\n} from \"querystring\";\n\n// const PlatformType = require('PlatformEnum').PlatformType;\n// const OUT_VIEW_POS = cc.vec2(99999,99999);\n\nvar getTime = null;\nlet WX_GAME_ENV = false;\nlet QQ_GAME_ENV = false;\nlet WX_GAME_DEVTOOLS = false;\nvar POINT_EPSILON = parseFloat('1.192092896e-07F');\nconst OUT_OF_VIEW_POS = cc.v2(10000, 10000);\n\n// Array.prototype.getItemOrFinalItem = function (index) {\n//     if (index < this.length) {\n//         return this[index];\n//     } else {\n//         return this[this.length - 1];\n//     }\n// }\n\n// Array.prototype.getItemById = function (id) {\n//     for (const item of this) {\n//         if (item.id === id) {\n//             return item;\n//         }\n//     }\n// }\n\n\n\nconst Tools = cc.Class({\n    statics: {\n        // platformType: PlatformType,\n        systemInfo: null,\n        isH5: false,\n\n        init: function (platformType, systemInfo) {\n            if (cc.sys.platform === cc.sys.WECHAT_GAME) {\n                getTime = null;\n                WX_GAME_ENV = true;\n                if (systemInfo) {\n                    Tools.systemInfo = systemInfo;\n                    WX_GAME_DEVTOOLS = Tools.systemInfo.platform == \"devtools\";\n                }\n            } else if (cc.sys.platform === cc.sys.QQ_PLAY) {\n                QQ_GAME_ENV = true;\n            }\n        },\n        // init: function (platformType, systemInfo) {\n        //     Tools.platformType = platformType;\n        //     if (Tools.platformType == PlatformType.WECHAT) {\n        //         getTime = null;\n        //         WX_GAME_ENV = true;\n        //         if (systemInfo) {\n        //             Tools.systemInfo = systemInfo;\n        //             WX_GAME_DEVTOOLS = Tools.systemInfo.platform == \"devtools\";\n        //         }\n        //     } else if (Tools.platformType == PlatformType.QQ) {\n        //         QQ_GAME_ENV = true;\n        //     }\n\n        //     // 华为内置浏览器不支持fill函数\n        //     if (!Array.prototype.fill) {\n        //         Object.defineProperty(Array.prototype, 'fill', {\n        //             value: function (value) {\n\n        //                 // Steps 1-2.\n        //                 if (this == null) {\n        //                     throw new TypeError('this is null or not defined');\n        //                 }\n\n        //                 var O = Object(this);\n\n        //                 // Steps 3-5.\n        //                 var len = O.length >>> 0;\n\n        //                 // Steps 6-7.\n        //                 var start = arguments[1];\n        //                 var relativeStart = start >> 0;\n\n        //                 // Step 8.\n        //                 var k = relativeStart < 0 ?\n        //                     Math.max(len + relativeStart, 0) :\n        //                     Math.min(relativeStart, len);\n\n        //                 // Steps 9-10.\n        //                 var end = arguments[2];\n        //                 var relativeEnd = end === undefined ?\n        //                     len : end >> 0;\n\n        //                 // Step 11.\n        //                 var final = relativeEnd < 0 ?\n        //                     Math.max(len + relativeEnd, 0) :\n        //                     Math.min(relativeEnd, len);\n\n        //                 // Step 12.\n        //                 while (k < final) {\n        //                     O[k] = value;\n        //                     k++;\n        //                 }\n\n        //                 // Step 13.\n        //                 return O;\n        //             }\n        //         });\n        //     }\n        // },\n\n        cleanUp: function (obj) {\n            if (obj) {\n                if (obj.node) {\n                    if (cc.game.isPersistRootNode(obj.node)) {\n                        cc.game.removePersistRootNode(obj.node);\n                    }\n                    obj.node.destroy();\n                }\n            }\n        },\n\n        setNodeVisible: function (node, visible) { //, log) {\n\n            if (node) {\n                node._customInvisibleFlag = !visible;\n                // node.active = visible ? true : false;\n                // node.active = visible ? true : false;\n                // node.group = visible ? 'default' : 'invisible';\n                // if (log !== false) {\n                //     cc.warn('setNodeVisible, node:' + node.name + ' visible:' + visible);\n                // }\n\n                /** sgNode */\n                // if (node._sgNode && node._sgNode.visible !== visible) {\n                //     node._sgNode.visible = visible;\n                // }\n                // var children = node.children;\n                // if (children && children.length > 0) {\n                //     for (let index = 0; index < children.length; index++) {\n                //         const child = children[index];\n                //         Tools.setNodeVisible(child, visible);\n                //     }\n                // }\n\n                /** opacity */\n\n\n                /** transform */\n                // node.position = visible ? cc.Vec2.ZERO : cc.v2(99999,99999);\n            }\n        },\n\n        setNodeColor: function (node, color) {\n            if (node) {\n                node.color = color;\n                const particleSystem = node.getComponent(cc.ParticleSystem);\n                if (particleSystem) {\n                    particleSystem.startColor = color;\n                    particleSystem.endColor = color;\n                }\n\n                var children = node.children;\n                if (children && children.length > 0) {\n                    for (let index = 0; index < children.length; index++) {\n                        const child = children[index];\n                        Tools.setNodeColor(child, color);\n                    }\n                }\n            }\n        },\n\n        setNodeOpacity: function (node, opacity) {\n            if (node) node.opacity = opacity;\n        },\n\n        isNodeVisible: function (node) {\n            return node && node.opacity > 0 && node._customInvisibleFlag !== true;\n        },\n\n        getNodeToCameraPoint(node, position, camera) {\n            var worldPos = (node && node.parent) ? node.parent.convertToWorldSpaceAR(position) : position;\n            var point = camera.getWorldToCameraPoint(worldPos);\n            return point;\n        },\n\n        isEmptyObject: function (obj) {\n            return obj !== null && Object.keys(obj).length === 0 && obj.constructor === Object;\n        },\n\n        getUuid: function () {\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n                var r = Math.random() * 16 | 0,\n                    v = c == 'x' ? r : (r & 0x3 | 0x8);\n                return v.toString(16);\n            });\n        },\n\n        getMd5Url: function (url) {\n            if (cc.loader.md5Pipe) {\n                url = cc.loader.md5Pipe.transformURL(url);\n            }\n            return url;\n        },\n\n        getRawUrl: function (resUrl) {\n            var url = cc.url.raw(resUrl);\n            return Tools.getMd5Url(url);\n        },\n\n        getRemoteRawUrl: function (resUrl) {\n            if (!resUrl) {\n                return '';\n            }\n            var str = '';\n            if (Tools.isH5) {\n                str = Tools.getUrlWithoutQueryString();\n                str = str.substring(0, str.lastIndexOf('/') + 1);\n                str += Tools.getRawUrl(resUrl);\n            } else if (QQ_GAME_ENV) {\n                str = qqPlayDownloader.REMOTE_SERVER_ROOT + '/' + Tools.getRawUrl(resUrl);\n            } else if (WX_GAME_ENV) {\n                str = wxDownloader.REMOTE_SERVER_ROOT + '/' + Tools.getRawUrl(resUrl);\n            }\n            // console.log('getRemoteRawUrl:' + str);\n            return str;\n        },\n\n        /**\n         * 获取构造函数\n         * @param  {String|Function} typeOrClassName\n         * @returns  {Function} 构造函数\n         */\n        getConstructor: function (typeOrClassName) {\n            if (!typeOrClassName) {\n                cc.errorID(3804);\n                return null;\n            }\n            if (typeof typeOrClassName === 'string') {\n                return cc.js.getClassByName(typeOrClassName);\n            }\n\n            return typeOrClassName;\n        },\n\n        getOrAddComponent: function (node, comp) {\n            if (node && comp) {\n                var ret = node.getComponent(comp);\n                if (!ret) {\n                    ret = node.addComponent(comp);\n                }\n                return ret;\n            } else {\n                return null;\n            }\n        },\n\n        getMilliTime: function () {\n            if (getTime === null) {\n                if (window.performance.now) {\n                    if (CC_DEBUG) {\n                        cc.log(\"Using high performance timer\");\n                    }\n                    if (WX_GAME_ENV) {\n                        if (WX_GAME_DEVTOOLS) {\n                            getTime = function () {\n                                return wx.getPerformance().now();\n                            }\n                        } else {\n                            getTime = function () {\n                                return wx.getPerformance().now() / 1000;\n                            }\n                        }\n                    } else {\n                        getTime = function () {\n                            return window.performance.now();\n                        }\n                    }\n                } else {\n                    if (window.performance.webkitNow) {\n                        if (CC_DEBUG) {\n                            cc.log(\"Using webkit high performance timer\");\n                        }\n                        getTime = function () {\n                            return window.performance.webkitNow();\n                        };\n                    } else {\n                        if (CC_DEBUG) {\n                            cc.log(\"Using low performance timer\");\n                        }\n                        getTime = function () {\n                            return new Date().getTime();\n                        };\n                    }\n                }\n            }\n            return getTime();\n        },\n\n        /**\n         * 获取当前时间戳，单位毫秒\n         * @returns  {number} 时间戳，单位毫秒\n         */\n        getTimestampMS: function () {\n            return Math.floor(Date.now());\n        },\n\n        /**\n         * 获取当前时间戳，单位秒\n         * @returns  {number} 时间戳，单位秒\n         */\n        getTimestampS: function () {\n            return Math.floor(Tools.getTimestampMS() / 1000);\n        },\n\n        /**\n         * 获取最近的已过去的某个时刻的时间戳，主要用于每周数据清除\n         * 例如排行榜每周一零点清除，需要获取周一零点的时间戳进行比较\n         * @param  {number} _day 星期中的第几天(0-6,0为星期天)\n         * @param  {number} _hours 小时(0-23)\n         * @param  {Date} date=null Date对象,主要用于单元测试\n         */\n        getNearestPastWeeklyTimestamp: function (_day, _hours, date = null) {\n            if (date == null) {\n                date = new Date();\n            } else {\n                date = new Date(date);\n            }\n            // console.log('getWeeklyTimestamp _day:' + _day + ' _hours:' + _hours + ' date:' + date);\n\n            var day = date.getDay();\n            var hours = date.getHours();\n            var minutes = date.getMinutes();\n            var seconds = date.getSeconds();\n            var milliseconds = date.getMilliseconds();\n            var diffMilliseconds = 0;\n            // console.log('day:' + day + ' hours:' + hours + ' minutes:' + minutes + ' seconds:' + seconds + ' ms:' + milliseconds);\n            if (day > _day || (day === _day && hours >= _hours)) {\n                diffMilliseconds = milliseconds + (seconds + minutes * 60 + (hours - _hours) * 60 * 60 + (day - _day) * 24 * 60 * 60) * 1000;\n            } else {\n                var tmpMilliseconds = milliseconds + (seconds + minutes * 60 + hours * 60 * 60 + day * 24 * 60 * 60) * 1000;\n                diffMilliseconds = tmpMilliseconds - _hours * 60 * 60 * 1000;\n                if (day !== _day) {\n                    diffMilliseconds -= (_day - day) * 24 * 60 * 60 * 1000;\n                }\n                diffMilliseconds += 6 * 24 * 60 * 60 * 1000;\n            }\n\n            var time = date.getTime();\n            time -= diffMilliseconds;\n            // var retDate = new Date(time);\n            // console.log(retDate);\n            return time;\n        },\n\n        isBetweenRange(count, arr) {\n            return count >= arr[0] && count <= arr[1];\n        },\n\n        /**\n         * 获取范围内随机整数\n         * @param  {number} min 最小值，结果包含该值\n         * @param  {number} max 最大值，结果不包含该值\n         * @returns  {number} 随机整数\n         */\n        getRandomInt: function (min, max) {\n            min = Math.ceil(min);\n            max = Math.floor(max);\n            return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\n        },\n\n        /**\n         * 获取范围内随机整数\n         * @param  {float} min 最小值，结果包含该值\n         * @param  {float} max 最大值，结果不包含该值\n         * @returns  {float} 随机整数\n         */\n        getRandomFloat: function (min, max) {\n            return Math.random() * (max - min) + min; //The maximum is exclusive and the minimum is inclusive\n        },\n\n        /**\n         * 获取随机bool值\n         */\n        getRandomBool: function () {\n            return Tools.getRandomInt(0, 100) % 2 === 0;\n        },\n\n        /**\n         * 获取数组随机索引\n         * @param  {Array} array\n         * @returns  {number} 随机索引\n         */\n        getRandomIndex: function (array) {\n            return Tools.getRandomInt(0, array.length);\n        },\n\n        /**\n         * 获取数组随机元素\n         * @param  {Array} array\n         * @returns  {any} 随机元素\n         */\n        getRandomItem: function (array) {\n            if (array && array.length > 0) {\n                return array[Tools.getRandomIndex(array)];\n            } else {\n                return null;\n            }\n        },\n\n\n        /**\n         * 获取数组元素,如果获取不到就获取最后一个元素\n         * @param  {Array} array\n         * @returns  {any} 元素\n         */\n        getItemOrFinalItem: function (array, index) {\n            if (array[index]) {\n                return array[index]\n            } else {\n                return array[array.length - 1]\n            }\n        },\n\n        getItemById: function (array, id) {\n            // if (array[id]) {\n            //     return array[id];\n            // }\n            for (const item of array) {\n                if (item.id === id) {\n                    return item;\n                }\n            }\n        },\n\n        compareVec2: function (v1, v2, threshold = 0.01) {\n            return v1.sub(v2).magSqr() < threshold;\n        },\n\n        compareVec2Float: function (v1, v2) {\n            return v1.x == v2.x && v1.y == v2.y;\n        },\n\n        isFloatEqual: function (f1, f2) {\n            return Math.abs(f1 - f2) < 0.01;\n        },\n\n        inverseLerp: function (a, b, value) {\n            if (a !== b) {\n                var ret = (value - a) / (b - a);\n                return ret;\n            } else {\n                return 1;\n            }\n        },\n\n        setAccDivFunc: function () {\n            Number.prototype.div = function (arg) {\n                return Tools.accDiv(this, arg);\n            };\n        },\n\n        accDiv: function (arg1, arg2) {\n            var t1 = 0,\n                t2 = 0,\n                r1, r2;\n            try {\n                t1 = arg1.toString().split(\".\")[1].length;\n            } catch (e) {}\n            try {\n                t2 = arg2.toString().split(\".\")[1].length;\n            } catch (e) {}\n\n            r1 = Number(arg1.toString().replace(\".\", \"\"));\n            r2 = Number(arg2.toString().replace(\".\", \"\"));\n            return (r1 / r2) * Math.pow(10, t2 - t1);\n\n        },\n\n        /**\n         * 平滑阻尼，搬自unity的Mathf.SmoothDamp，返回实际值与修改后的当前速率的数组\n         * @param  {number} current 当前值\n         * @param  {number} target 目标值\n         * @param  {number} currentVelocity 当前速率，速率修改后返回\n         * @param  {number} smoothTime 平滑时间\n         * @param  {number} maxSpeed 最大速率\n         * @param  {number} deltaTime 时间间隔\n         */\n        smoothDamp: function (current, target, currentVelocity, smoothTime, maxSpeed, deltaTime) {\n            smoothTime = Math.max(0.0001, smoothTime);\n            var num = 2 / smoothTime;\n            var num2 = num * deltaTime;\n            var num3 = 1 / (1 + num2 + 0.48 * num2 * num2 + 0.235 * num2 * num2 * num2);\n            var num4 = current - target;\n            var num5 = target;\n            var num6 = maxSpeed * smoothTime;\n            num4 = Tools.clamp(num4, -num6, num6);\n            target = current - num4;\n            var num7 = (currentVelocity + num * num4) * deltaTime;\n            currentVelocity = (currentVelocity - num * num7) * num3;\n            var num8 = target + (num4 + num7) * num3;\n            if (num5 - current > 0 == num8 > num5) {\n                num8 = num5;\n                currentVelocity = (num8 - num5) / deltaTime;\n            }\n            return [num8, currentVelocity];\n        },\n\n        /**\n         * 拆分string为数值数组\n         * @param  {string} str\n         * @param  {string} char\n         */\n        splitToNumList: function (str, char = ',') {\n            const strs = str.split(char);\n            const nums = [];\n            for (var i = 0; i < strs.length; i++) {\n                if (strs[i].length > 0) {\n                    nums.push(Number(strs[i]));\n                }\n            }\n            return nums;\n        },\n\n        getVec2MagSqr: function (vec2) {\n            return vec2.x * vec2.x + vec2.y * vec2.y;\n        },\n\n        getStrLength: function (str) {\n            var realLength = 0,\n                len = str.length,\n                charCode = -1;\n            for (var i = 0; i < len; i++) {\n                charCode = str.charCodeAt(i);\n                if (charCode >= 0 && charCode <= 128) realLength += 1;\n                else realLength += 2;\n            }\n            return realLength;\n        },\n\n        subStrByCharacter: function (str, length) {\n            // var len = this.getStrLength(str);\n            var index = 0;\n            var codeCount = 0;\n            var charCode = -1;\n            // if (len > length) {\n            for (var i = 0; i < str.length; i++) {\n                charCode = str.charCodeAt(i);\n                if (charCode >= 0 && charCode <= 128) {\n                    codeCount += 1;\n                } else {\n                    codeCount += 2;\n                }\n                if (codeCount > length) {\n                    break;\n                }\n                index += 1;\n            }\n            // }\n            return str.substring(0, index);\n        },\n\n        getUrlWithoutQueryString: function () {\n            const url = [location.protocol, '//', location.host, location.pathname].join('');\n            return url;\n        },\n\n        getQueryString: function (name, url) {\n            if (!url) url = location.href;\n            name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n            var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n            var regex = new RegExp(regexS);\n            var results = regex.exec(url);\n            return results == null ? null : results[1];\n        },\n\n        webCopyString: function (str) {\n            var input = str;\n            const el = document.createElement('textarea');\n            el.value = input;\n            el.setAttribute('readonly', '');\n            el.style.contain = 'strict';\n            el.style.position = 'absolute';\n            el.style.left = '-9999px';\n            el.style.fontSize = '12pt'; // Prevent zooming on iOS\n\n            const selection = getSelection();\n            var originalRange = false;\n            if (selection.rangeCount > 0) {\n                originalRange = selection.getRangeAt(0);\n            }\n            document.body.appendChild(el);\n            el.select();\n            el.selectionStart = 0;\n            el.selectionEnd = input.length;\n\n            var success = false;\n            try {\n                success = document.execCommand('copy');\n            } catch (err) {}\n\n            document.body.removeChild(el);\n\n            if (originalRange) {\n                selection.removeAllRanges();\n                selection.addRange(originalRange);\n            }\n\n            return success;\n        },\n\n        getMd5: function (s) {\n            function L(k, d) {\n                return (k << d) | (k >>> (32 - d))\n            }\n\n            function K(G, k) {\n                var I, d, F, H, x;\n                F = (G & 2147483648);\n                H = (k & 2147483648);\n                I = (G & 1073741824);\n                d = (k & 1073741824);\n                x = (G & 1073741823) + (k & 1073741823);\n                if (I & d) {\n                    return (x ^ 2147483648 ^ F ^ H)\n                }\n                if (I | d) {\n                    if (x & 1073741824) {\n                        return (x ^ 3221225472 ^ F ^ H)\n                    } else {\n                        return (x ^ 1073741824 ^ F ^ H)\n                    }\n                } else {\n                    return (x ^ F ^ H)\n                }\n            }\n\n            function r(d, F, k) {\n                return (d & F) | ((~d) & k)\n            }\n\n            function q(d, F, k) {\n                return (d & k) | (F & (~k))\n            }\n\n            function p(d, F, k) {\n                return (d ^ F ^ k)\n            }\n\n            function n(d, F, k) {\n                return (F ^ (d | (~k)))\n            }\n\n            function u(G, F, aa, Z, k, H, I) {\n                G = K(G, K(K(r(F, aa, Z), k), I));\n                return K(L(G, H), F)\n            }\n\n            function f(G, F, aa, Z, k, H, I) {\n                G = K(G, K(K(q(F, aa, Z), k), I));\n                return K(L(G, H), F)\n            }\n\n            function D(G, F, aa, Z, k, H, I) {\n                G = K(G, K(K(p(F, aa, Z), k), I));\n                return K(L(G, H), F)\n            }\n\n            function t(G, F, aa, Z, k, H, I) {\n                G = K(G, K(K(n(F, aa, Z), k), I));\n                return K(L(G, H), F)\n            }\n\n            function e(G) {\n                var Z;\n                var F = G.length;\n                var x = F + 8;\n                var k = (x - (x % 64)) / 64;\n                var I = (k + 1) * 16;\n                var aa = Array(I - 1);\n                var d = 0;\n                var H = 0;\n                while (H < F) {\n                    Z = (H - (H % 4)) / 4;\n                    d = (H % 4) * 8;\n                    aa[Z] = (aa[Z] | (G.charCodeAt(H) << d));\n                    H++\n                }\n                Z = (H - (H % 4)) / 4;\n                d = (H % 4) * 8;\n                aa[Z] = aa[Z] | (128 << d);\n                aa[I - 2] = F << 3;\n                aa[I - 1] = F >>> 29;\n                return aa\n            }\n\n            function B(x) {\n                var k = \"\",\n                    F = \"\",\n                    G, d;\n                for (d = 0; d <= 3; d++) {\n                    G = (x >>> (d * 8)) & 255;\n                    F = \"0\" + G.toString(16);\n                    k = k + F.substr(F.length - 2, 2)\n                }\n                return k\n            }\n\n            function J(k) {\n                k = k.replace(/rn/g, \"n\");\n                var d = \"\";\n                for (var F = 0; F < k.length; F++) {\n                    var x = k.charCodeAt(F);\n                    if (x < 128) {\n                        d += String.fromCharCode(x)\n                    } else {\n                        if ((x > 127) && (x < 2048)) {\n                            d += String.fromCharCode((x >> 6) | 192);\n                            d += String.fromCharCode((x & 63) | 128)\n                        } else {\n                            d += String.fromCharCode((x >> 12) | 224);\n                            d += String.fromCharCode(((x >> 6) & 63) | 128);\n                            d += String.fromCharCode((x & 63) | 128)\n                        }\n                    }\n                }\n                return d\n            }\n            var C = Array();\n            var P, h, E, v, g, Y, X, W, V;\n            var S = 7,\n                Q = 12,\n                N = 17,\n                M = 22;\n            var A = 5,\n                z = 9,\n                y = 14,\n                w = 20;\n            var o = 4,\n                m = 11,\n                l = 16,\n                j = 23;\n            var U = 6,\n                T = 10,\n                R = 15,\n                O = 21;\n            s = J(s);\n            C = e(s);\n            Y = 1732584193;\n            X = 4023233417;\n            W = 2562383102;\n            V = 271733878;\n            for (P = 0; P < C.length; P += 16) {\n                h = Y;\n                E = X;\n                v = W;\n                g = V;\n                Y = u(Y, X, W, V, C[P + 0], S, 3614090360);\n                V = u(V, Y, X, W, C[P + 1], Q, 3905402710);\n                W = u(W, V, Y, X, C[P + 2], N, 606105819);\n                X = u(X, W, V, Y, C[P + 3], M, 3250441966);\n                Y = u(Y, X, W, V, C[P + 4], S, 4118548399);\n                V = u(V, Y, X, W, C[P + 5], Q, 1200080426);\n                W = u(W, V, Y, X, C[P + 6], N, 2821735955);\n                X = u(X, W, V, Y, C[P + 7], M, 4249261313);\n                Y = u(Y, X, W, V, C[P + 8], S, 1770035416);\n                V = u(V, Y, X, W, C[P + 9], Q, 2336552879);\n                W = u(W, V, Y, X, C[P + 10], N, 4294925233);\n                X = u(X, W, V, Y, C[P + 11], M, 2304563134);\n                Y = u(Y, X, W, V, C[P + 12], S, 1804603682);\n                V = u(V, Y, X, W, C[P + 13], Q, 4254626195);\n                W = u(W, V, Y, X, C[P + 14], N, 2792965006);\n                X = u(X, W, V, Y, C[P + 15], M, 1236535329);\n                Y = f(Y, X, W, V, C[P + 1], A, 4129170786);\n                V = f(V, Y, X, W, C[P + 6], z, 3225465664);\n                W = f(W, V, Y, X, C[P + 11], y, 643717713);\n                X = f(X, W, V, Y, C[P + 0], w, 3921069994);\n                Y = f(Y, X, W, V, C[P + 5], A, 3593408605);\n                V = f(V, Y, X, W, C[P + 10], z, 38016083);\n                W = f(W, V, Y, X, C[P + 15], y, 3634488961);\n                X = f(X, W, V, Y, C[P + 4], w, 3889429448);\n                Y = f(Y, X, W, V, C[P + 9], A, 568446438);\n                V = f(V, Y, X, W, C[P + 14], z, 3275163606);\n                W = f(W, V, Y, X, C[P + 3], y, 4107603335);\n                X = f(X, W, V, Y, C[P + 8], w, 1163531501);\n                Y = f(Y, X, W, V, C[P + 13], A, 2850285829);\n                V = f(V, Y, X, W, C[P + 2], z, 4243563512);\n                W = f(W, V, Y, X, C[P + 7], y, 1735328473);\n                X = f(X, W, V, Y, C[P + 12], w, 2368359562);\n                Y = D(Y, X, W, V, C[P + 5], o, 4294588738);\n                V = D(V, Y, X, W, C[P + 8], m, 2272392833);\n                W = D(W, V, Y, X, C[P + 11], l, 1839030562);\n                X = D(X, W, V, Y, C[P + 14], j, 4259657740);\n                Y = D(Y, X, W, V, C[P + 1], o, 2763975236);\n                V = D(V, Y, X, W, C[P + 4], m, 1272893353);\n                W = D(W, V, Y, X, C[P + 7], l, 4139469664);\n                X = D(X, W, V, Y, C[P + 10], j, 3200236656);\n                Y = D(Y, X, W, V, C[P + 13], o, 681279174);\n                V = D(V, Y, X, W, C[P + 0], m, 3936430074);\n                W = D(W, V, Y, X, C[P + 3], l, 3572445317);\n                X = D(X, W, V, Y, C[P + 6], j, 76029189);\n                Y = D(Y, X, W, V, C[P + 9], o, 3654602809);\n                V = D(V, Y, X, W, C[P + 12], m, 3873151461);\n                W = D(W, V, Y, X, C[P + 15], l, 530742520);\n                X = D(X, W, V, Y, C[P + 2], j, 3299628645);\n                Y = t(Y, X, W, V, C[P + 0], U, 4096336452);\n                V = t(V, Y, X, W, C[P + 7], T, 1126891415);\n                W = t(W, V, Y, X, C[P + 14], R, 2878612391);\n                X = t(X, W, V, Y, C[P + 5], O, 4237533241);\n                Y = t(Y, X, W, V, C[P + 12], U, 1700485571);\n                V = t(V, Y, X, W, C[P + 3], T, 2399980690);\n                W = t(W, V, Y, X, C[P + 10], R, 4293915773);\n                X = t(X, W, V, Y, C[P + 1], O, 2240044497);\n                Y = t(Y, X, W, V, C[P + 8], U, 1873313359);\n                V = t(V, Y, X, W, C[P + 15], T, 4264355552);\n                W = t(W, V, Y, X, C[P + 6], R, 2734768916);\n                X = t(X, W, V, Y, C[P + 13], O, 1309151649);\n                Y = t(Y, X, W, V, C[P + 4], U, 4149444226);\n                V = t(V, Y, X, W, C[P + 11], T, 3174756917);\n                W = t(W, V, Y, X, C[P + 2], R, 718787259);\n                X = t(X, W, V, Y, C[P + 9], O, 3951481745);\n                Y = K(Y, h);\n                X = K(X, E);\n                W = K(W, v);\n                V = K(V, g)\n            }\n            var i = B(Y) + B(X) + B(W) + B(V);\n            return i.toLowerCase()\n        },\n\n        // #region 地图坐标与世界坐标转化\n        // getTiledObjWorldPos: function(obj, tiledMap) {\n        //     var pos = cc.v2(obj._properties.x, obj._properties.y).add(tiledMap.node.position);\n        //     pos = cc.v2(pos.x, -pos.y)\n        //     return pos;\n        // },\n\n        // changeWorldPosToTilePos: function(pos, tiledMap) {\n        //     var _pos = cc.v2(pos.x, -pos.y);\n        //     _pos = _pos.sub(tiledMap.node.position);\n        //     return _pos;\n        // },\n        //#endregion\n\n        /**\n         * @param  {number} min clamp的最小值\n         * @param  {number} max clamp的最大值\n         * @param  {number} n 实际值\n         */\n        clamp: function (min, max, n) {\n            return Math.max(min, Math.min(max, n))\n        },\n\n        isOutOfScreen: function (pos) {\n            var size = cc.winSize;\n            return Math.abs(pos.x) > size.width / 2 || Math.abs(pos.y) > size.height / 2;\n        },\n\n        isStringInteger: function (str) {\n            return /^\\+?(0|[1-9]\\d*)$/.test(str);\n        },\n\n        /**\n         * 比较版本字符串\n         * @param  {string} a\n         * @param  {string} b\n         * @returns  {number} 1 if a > b; -1 if a < b; 0 if a == b\n         */\n        compareVersionStr: function (a, b) {\n            if (a === b) {\n                return 0;\n            }\n\n            var a_components = a.split(\".\");\n            var b_components = b.split(\".\");\n\n            var len = Math.min(a_components.length, b_components.length);\n\n            // loop while the components are equal\n            for (var i = 0; i < len; i++) {\n                // A bigger than B\n                if (parseInt(a_components[i]) > parseInt(b_components[i])) {\n                    return 1;\n                }\n\n                // B bigger than A\n                if (parseInt(a_components[i]) < parseInt(b_components[i])) {\n                    return -1;\n                }\n            }\n\n            // If one's a prefix of the other, the longer one is greater.\n            if (a_components.length > b_components.length) {\n                return 1;\n            }\n\n            if (a_components.length < b_components.length) {\n                return -1;\n            }\n\n            // Otherwise they are the same.\n            return 0;\n        },\n\n        getShowNickName: function (nickName, length = 12) {\n            if (Tools.getStrLength(nickName) > length) {\n                return Tools.subStrByCharacter(nickName, length) + \"...\";\n            }\n            return nickName;\n        },\n\n        /**\n         * @param {string} str 需格式的字符\n         * @returns {Number or Object} 需要替换的信息\n         */\n        getStringByFormat: function (str, args) {\n            var result = str;\n            // console.log(\"参数长度 :\" + arguments.length);\n            if (arguments.length > 0) {\n                if (arguments.length === 2 && typeof (args) == \"object\") {\n                    for (var key in args) {\n                        if (args[key] !== undefined) {\n                            var reg = new RegExp(\"({\" + key + \"})\", \"g\");\n                            result = result.replace(reg, args[key]);\n                        }\n                    }\n                } else {\n                    for (var i = 1; i < arguments.length; i++) {\n                        if (arguments[i] !== undefined) {\n                            //var reg = new RegExp(\"({[\" + i + \"]})\", \"g\");//这个在索引大于9时会有问题\n                            var reg2 = new RegExp(\"({)\" + i + \"(})\", \"g\");\n                            result = result.replace(reg2, arguments[i]);\n                        }\n                    }\n                }\n            }\n            return result;\n\n        },\n\n        /**\n         * 将代表方向的Vector转换成与UP方向向量(0,1)的弧度\n         * @param {cc.Vec2} vector 方向向量\n         * @returns {Number} 与UP方向向量的弧度*1000后四舍五入的整数值,范围(0, 6283]\n         */\n        rotationVectorToInt: function (vector) {\n            var ret = 0;\n            if (vector) {\n                if (this.compareVec2(vector, cc.Vec2.ZERO)) {\n                    ret = 0;\n                } else {\n                    ret = Tools.vec2SignAngle(cc.Vec2.UP, vector);\n                    if (ret <= 0.0005) {\n                        ret += Math.PI * 2;\n                    }\n                    ret = Math.round(ret * 1000);\n                }\n            }\n            return ret;\n        },\n\n        /**\n         * 将与UP方向向量间的弧度值(float弧度值*10后四舍五入的int类型数值)转换成代表方向的Vector\n         * @param {Number} 与UP方向向量的弧度*10后四舍五入的整数值,范围(0, 6283]\n         * @returns {cc.Vec2} 方向向量\n         */\n        rotationIntToVector: function (intAngle) {\n            if (intAngle === 0) {\n                return cc.Vec2.ZERO;\n            } else {\n                const angle = intAngle / 1000.0;\n                return cc.Vec2.UP.rotate(-angle);\n            }\n        },\n\n        getDigitFactor: function (digit, isDivide) {\n            if (digit === null || digit === undefined || digit <= 0) {\n                return 1;\n            } else if (digit == 1) {\n                return isDivide ? 0.1 : 10;\n            } else {\n                return Math.pow(isDivide ? 0.1 : 10, digit);\n            }\n        },\n\n        getIntVec2: function (joVec, digit) {\n            const ret = cc.v2();\n            ret.set(joVec);\n            const factor = this.getDigitFactor(digit, true);\n            if (factor < 1) {\n                ret.mulSelf(factor);\n            }\n            return ret;\n        },\n\n        getFloatParsedByInt: function (intValue, digit) {\n            const factor = this.getDigitFactor(digit, true);\n            return intValue * factor;\n        },\n\n        checkDownKillWeaponType: function (weaponId) {\n            if (weaponId >= 0) {\n                return 0; //武器\n            } else if (weaponId > -1000) {\n                return 1; //场景\n            } else {\n                return 2; //技能\n            }\n        },\n\n        //获得两个时间戳之间相差的时间\n        getTimeCount: function (curTime, endTime) {\n            this.timeCount = {};\n\n            const nTime = (endTime - curTime) / 1000;\n            this.timeCount.day = Math.floor(nTime / 86400);\n            this.timeCount.hour = Math.floor(nTime % 86400 / 3600);\n            this.timeCount.minute = Math.floor(nTime % 86400 % 3600 / 60);\n            this.timeCount.second = Math.floor(nTime % 86400 % 3600 % 60);\n            // cc.log(this.timeCount.hour + 'hour')\n            // cc.log(this.timeCount.minute + 'min')\n            // cc.log(this.timeCount.second + 'second')\n            return this.timeCount;\n        },\n\n        /**\n         * 得到俩时间戳相差的天数,向上取整\n         */\n        getDayTimeCount: function (curTime, endTime) {\n            let nTime = (endTime - curTime) / 1000;\n            let dayCount = Math.ceil(nTime / 86400);\n            return dayCount;\n        },\n\n\n        getRealDayTimeCount: function (curTime, endTime) {\n            const start = new Date(new Date(new Date(curTime).toLocaleDateString()).getTime());\n            const startTime = start.getTime();\n            let nTime = (endTime - startTime) / 1000;\n            let dayCount = Math.ceil(nTime / 86400);\n            return dayCount;\n        },\n        /**\n         * 获取剩余时间普通文本\n         */\n        getRemainTimeStr: function (curTime, endTime) {\n            const timeCount = this.getTimeCount(curTime, endTime);\n            return Tools.getNumStr(timeCount.day * 24 + timeCount.hour) + ':' + Tools.getNumStr(timeCount.minute) + ':' + Tools.getNumStr(timeCount.second)\n        },\n\n        getNumStr: function (num) {\n            return num < 0 ? 0 : (num < 10 ? '0' + num : num);\n        },\n        /**\n         * 获取剩余时间长文本\n         */\n        getRemainTimeLongStr: function (curTime, endTime) {\n            const timeCount = this.getTimeCount(curTime, endTime);\n            if (timeCount.day > 0) {\n                return timeCount.day + \"天\" + timeCount.hour + '小时';\n            } else if (timeCount.hour > 0) {\n                return timeCount.hour + \"小时\" + timeCount.minute + '分钟';\n            } else if (timeCount.minute > 0) {\n                return timeCount.minute + \"分\" + timeCount.second + '秒';\n            } else {\n                return '0分0秒'\n            }\n        },\n\n        /**\n         * 获取剩余时间短文本\n         */\n        getRemainTimeShortStr: function (curTime, endTime) {\n            const timeCount = this.getTimeCount(curTime, endTime);\n            if (timeCount.day > 0) {\n                return (timeCount.day + 1) + \"天\";\n            } else if (timeCount.hour > 0) {\n                return (timeCount.hour + 1) + \"小时\";\n            } else if (timeCount.minute > 0) {\n                return (timeCount.minute + 1) + \"分\";\n            } else if (timeCount.second > 0) {\n                return timeCount.second + \"秒\";\n            } else {\n                return '0秒'\n            }\n        },\n\n        /**\n         * 时间戳转成时间格式\n         */\n        timestampToTime: function (timestamp) {\n            var date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n            var Y = date.getFullYear() + '-';\n            var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n            var D = date.getDate();\n            return Y + M + D;\n        },\n\n        timestampToSecond: function (timestamp) {\n            var date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n            var H = date.getHours() + '-';\n            var M = date.getMinutes() + '-';\n            var S = date.getSeconds();\n            return H + M + S;\n        },\n\n        isAfterOtherTime: function (otherTime, curTimeStamp) {\n            var endTimeStamp = Tools.getTimeStampByTimeStr(otherTime);\n            return curTimeStamp > endTimeStamp;\n        },\n\n        isBeforeOtherTime: function (otherTime, curTimeStamp) {\n            var endTimeStamp = Tools.getTimeStampByTimeStr(otherTime);\n            return curTimeStamp < endTimeStamp;\n        },\n\n        isAfterCheckTime: function (curTimeStamp) {\n            var date = new Date(curTimeStamp);\n            console.log('当前时间', date)\n            date.setHours(0);\n            date.setMinutes(2);\n            date.setSeconds(0);\n            console.log('检查点', date)\n            var result = this.isAfterOtherTime(date, curTimeStamp);\n            console.log('结果', result)\n            return result\n        },\n\n        isBetweenTwoTime: function (startTime, endTime, curTimeStamp) {\n            var startTimeStamp = Tools.getTimeStampByTimeStr(startTime);\n            var endTimeStamp = Tools.getTimeStampByTimeStr(endTime);\n            // cc.log('startTimeStamp:' + startTimeStamp + \"  endTimeStamp:\" + endTimeStamp + \"  curTimeStamp:\" + curTimeStamp);\n            return curTimeStamp > startTimeStamp && curTimeStamp < endTimeStamp;\n        },\n\n        // isDuringDuanWuFestival: function (curTimeStamp) {\n        //     // return true;\n        //     return Tools.isBetweenTwoTime('2019-06-07 00:00:00', '2019-06-10 00:00:00', curTimeStamp)\n        // },\n\n        // isAfterDuanWuFestival: function (curTimeStamp) {\n        //     // return true;\n        //     var endTimeStamp = Tools.getTimeStampByTimeStr('2019-06-10 00:00:00');\n        //     return curTimeStamp > endTimeStamp;\n        // },\n\n        filterDataByTime: function (datas, ownArr, curTimeStamp, gameData, hideSpecialSkin, isIosPlatfrom, isAndroidApp) {\n            for (let i = datas.length - 1; i >= 0; i--) {\n                let data = datas[i];\n\n                var isBefore_2 = data.startDate_2 && Tools.isBeforeOtherTime(data.startDate_2, curTimeStamp)\n                var isAfter_2 = data.endDate_2 && Tools.isAfterOtherTime(data.endDate_2, curTimeStamp)\n\n                if (data.startDate_2 && (!(isBefore_2 || isAfter_2))) {\n                    data.getWay = 0;\n                    data.introduce = data.introduce_2;\n                }\n\n                if (ownArr.indexOf(data.id) === -1) {\n                    var isBefore = data.startDate && Tools.isBeforeOtherTime(data.startDate, curTimeStamp)\n                    var isAfter = data.endDate && Tools.isAfterOtherTime(data.endDate, curTimeStamp)\n\n                    if ((isBefore || isAfter) && (isBefore_2 || isAfter_2)) {\n                        datas.splice(i, 1)\n                    } else if ((gameData.isInReview || hideSpecialSkin) && data.isHideInReview) {\n                        datas.splice(i, 1)\n                    } else if (isIosPlatfrom && data.isHideInIOS) {\n                        datas.splice(i, 1)\n                    } else if (isAndroidApp && data.isHideInAndroidApp) {\n                        datas.splice(i, 1)\n                    }\n                }\n            }\n        },\n\n        /**\n         * 是不是在所给时间范围之间\n         * @param {string} 时间范围字符串\n         * @param {number} 时间偏移量\n         */\n        isBetweenTimeRange: function (ranges, curTime) {\n            if (!ranges) return false;\n            const strArr = ranges.split(';');\n            var rangesArr = [];\n            for (const str of strArr) {\n                const param = this.splitToNumList(str)\n                var range = {};\n                range.startHour = param[0];\n                range.endHour = param[1];\n                if (range.endHour < 0) {\n                    range.endHour = 0;\n                }\n                rangesArr.push(range);\n            }\n            var date = new Date(curTime);\n            var hour = date.getHours();\n            for (const range of rangesArr) {\n                if (hour >= range.startHour && hour < range.endHour) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        /**\n         * 是不是在所给数字范围之间\n         * @param {string} 范围字符串:'1,2;3,6;8,10'\n         * @param {number} 次数\n         */\n        isBetweenCountRange: function (ranges, count) {\n            if (!ranges) return false;\n            const strArr = ranges.split(';');\n            var rangesArr = [];\n            for (const str of strArr) {\n                const param = this.splitToNumList(str)\n                var range = {};\n                range.min = param[0];\n                range.nax = param[1];\n                rangesArr.push(range);\n            }\n            for (const range of rangesArr) {\n                if (count >= range.min && count <= range.nax) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        //是否不是同一天，0点跨天，单位毫秒,减60000是为了延迟一分钟刷新\n        isDaySpan: function (lastTime, curTime) {\n            return Tools.timestampToTime(lastTime) != Tools.timestampToTime(curTime)\n        },\n\n        //是否不是同一小时，0点跨天，单位毫秒,减60000是为了延迟一分钟刷新\n        isHourSpan: function (lastTime, curTime, configHours) {\n            var lastHour = new Date(lastTime).getHours();\n            var curHour = new Date(curTime).getHours();\n            if (lastHour !== curHour) {\n                for (let hour of configHours) {\n                    if (lastHour < hour && curHour >= hour) {\n                        return true\n                    }\n                }\n            }\n            return false;\n        },\n\n        //处于配置的小时\n        isInConfigHours: function (curTime, configHours) {\n            var hour = new Date(curTime).getHours();\n            return this.arrContains(configHours, hour);\n        },\n\n        // 通过配置时间，比如2018-10-08 03:00:00，转化得到时间戳\n        getTimeStampByTimeStr: function (timeStr) {\n            timeStr += '';\n            if (cc.sys.os == cc.sys.OS_IOS || QQ_GAME_ENV) {\n                return new Date(timeStr.replace(/-/g, \"/\")).getTime();\n            } else {\n                return new Date(timeStr).getTime();\n            }\n        },\n\n        arrContains: function (arr, checkItem) {\n            if (arr) {\n                for (let index = 0; index < arr.length; index++) {\n                    const item = arr[index];\n                    if (item === checkItem) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        },\n\n        arrRemove: function (arr, removeItem) {\n            for (let i = 0; i < arr.length; i++) {\n                if (arr[i] === removeItem) {\n                    arr.splice(i, 1);\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        createQueryString: function (queryObject) {\n            let queryString = ''\n            let flag = true;\n            for (var key in queryObject) {\n                if (queryObject.hasOwnProperty(key)) {\n                    const paramStr = `${key}=${queryObject[key]}`;\n                    if (flag) {\n                        flag = false;\n                        queryString = paramStr;\n                    } else {\n                        queryString += `&${paramStr}`;\n                    }\n                }\n            }\n            console.log('query:' + queryString);\n            return queryString;\n        },\n\n        hexToColor: function (hex) {\n            return new cc.Color().fromHEX(hex);\n        },\n\n\n        /* 获得当前时间与开始时间的实际跨天次数,如从昨日23点到今天零点过一秒也为一天*/\n        getRealTimeCount: function (startTime, endTime) {\n            let realStartTime = new Date(startTime);\n            //设为当天0点0分0秒0毫秒。\n            realStartTime.setHours(0, 0, 0, 0);\n            return Tools.getTimeCount(parseInt(realStartTime.getTime()), endTime);\n        },\n\n        /* 获得当前时间距离今天24：00的倒计时*/\n        getCountDownTimeByZero: function (curTime) {\n            let realStartTime = new Date(curTime);\n            //设为当天0点0分0秒0毫秒。\n            realStartTime.setHours(0, 0, 0, 0);\n            var time = Tools.getTimeCount(parseInt(realStartTime.getTime()), curTime);\n            time.hour = 23 - time.hour;\n            time.minute = 59 - time.minute;\n            time.second = 60 - time.second;\n\n            if (time.hour < 10) {\n                time.hour = '0' + time.hour;\n            }\n            if (time.minute < 10) {\n                time.minute = '0' + time.minute;\n            }\n            if (time.second < 10) {\n                time.second = '0' + time.second;\n            }\n            return time;\n        },\n\n        getCountDownTime(timestamp) {\n            timestamp = timestamp / 1000;\n            var time = {};\n            time.hour = Math.floor(timestamp % 86400 / 3600);\n            time.minute = Math.floor(timestamp % 86400 % 3600 / 60);\n            time.second = Math.floor(timestamp % 86400 % 3600 % 60);\n            if (time.hour < 10) {\n                time.hour = '0' + time.hour;\n            }\n            if (time.minute < 10) {\n                time.minute = '0' + time.minute;\n            }\n            if (time.second < 10) {\n                time.second = '0' + time.second;\n            }\n            return time;\n        },\n\n        /**\n         * !#en TODO\n         * !#zh 返回两个向量之间带正负号的弧度。\n         * @method pAngleSigned\n         * @param {Vec2} a\n         * @param {Vec2} b\n         * @return {Number} the signed angle in radians between two vector directions\n         */\n        pAngleSigned: function (a, b) {\n            var a2 = a.normalize();\n            var b2 = b.normalize();\n            var angle = Math.atan2(a2.x * b2.y - a2.y * b2.x, a2.dot(b2));\n            if (Math.abs(angle) < POINT_EPSILON)\n                return 0.0;\n            return angle;\n        },\n\n        /**\n         * !#en Get angle in radian between this and vector with direction.\n         * !#zh 带方向的夹角的弧度。\n         * @method signAngle\n         * @param {Vec2} v1\n         * @param {Vec2} v2\n         * @return {number} from -MathPI to Math.PI\n         */\n        vec2SignAngle: function (v1, v2) {\n            return Math.atan2(v1.y, v1.x) - Math.atan2(v2.y, v2.x);\n        },\n\n        /**\n         * !#en ccpSegmentIntersect return YES if Segment A-B intersects with segment C-D.\n         * !#zh 返回线段 A - B 和线段 C - D 是否相交。\n         * @method pSegmentIntersect\n         * @param {Vec2} A\n         * @param {Vec2} B\n         * @param {Vec2} C\n         * @param {Vec2} D\n         * @return {Boolean}\n         */\n        pSegmentIntersect: function (A, B, C, D) {\n            var retP = cc.v2(0, 0);\n            if (Tools.pLineIntersect(A, B, C, D, retP))\n                if (retP.x >= 0.0 && retP.x <= 1.0 && retP.y >= 0.0 && retP.y <= 1.0)\n                    return true;\n            return false;\n        },\n\n        /**\n         * !#en\n         * A general line-line intersection test\n         * indicating successful intersection of a line<br />\n         * note that to truly test intersection for segments we have to make<br />\n         * sure that s & t lie within [0..1] and for rays, make sure s & t > 0<br />\n         * the hit point is        p3 + t * (p4 - p3);<br />\n         * the hit point also is    p1 + s * (p2 - p1);\n         * !#zh\n         * 返回 A 为起点 B 为终点线段 1 所在直线和 C 为起点 D 为终点线段 2 所在的直线是否相交，<br />\n         * 如果相交返回 true，反之则为 false，参数 retP 是返回交点在线段 1、线段 2 上的比例。\n         * @method pLineIntersect\n         * @param {Vec2} A - A is the startpoint for the first line P1 = (p1 - p2).\n         * @param {Vec2} B - B is the endpoint for the first line P1 = (p1 - p2).\n         * @param {Vec2} C - C is the startpoint for the second line P2 = (p3 - p4).\n         * @param {Vec2} D - D is the endpoint for the second line P2 = (p3 - p4).\n         * @param {Vec2} retP - retP.x is the range for a hitpoint in P1 (pa = p1 + s*(p2 - p1)), <br />\n         * retP.y is the range for a hitpoint in P3 (pa = p2 + t*(p4 - p3)).\n         * @return {Boolean}\n         */\n        pLineIntersect: function (A, B, C, D, retP) {\n            if ((A.x === B.x && A.y === B.y) || (C.x === D.x && C.y === D.y)) {\n                return false;\n            }\n            var BAx = B.x - A.x;\n            var BAy = B.y - A.y;\n            var DCx = D.x - C.x;\n            var DCy = D.y - C.y;\n            var ACx = A.x - C.x;\n            var ACy = A.y - C.y;\n\n            var denom = DCy * BAx - DCx * BAy;\n\n            retP.x = DCx * ACy - DCy * ACx;\n            retP.y = BAx * ACy - BAy * ACx;\n\n            if (denom === 0) {\n                if (retP.x === 0 || retP.y === 0) {\n                    // Lines incident\n                    return true;\n                }\n                // Lines parallel and not incident\n                return false;\n            }\n\n            retP.x = retP.x / denom;\n            retP.y = retP.y / denom;\n\n            return true;\n        },\n\n        setLargeItem: function (key, item) {\n            if (QQ_GAME_ENV && !Tools.isH5) {\n                try {\n                    // console.log('setLargeItem key:' + key);\n                    // console.log('setLargeItem item:' + item);\n                    var path = 'GameSandBox://localStorage/' + key;\n                    if (BK.FileUtil.isFileExist(path)) {\n                        BK.FileUtil.deleteFile(path);\n                    }\n                    BK.FileUtil.writeFile(path, item);\n                    // console.log('setLargeItem writeFile finish, path:' + path + ' isFileExist:' + BK.FileUtil.isFileExist(path));\n                } catch (e) {\n                    console.log('getLargeItem exception:' + e);\n                }\n            } else {\n                Tools.setItem(key, item);\n            }\n        },\n\n        getLargeItem: function (key) {\n            if (QQ_GAME_ENV && !Tools.isH5) {\n                try {\n                    // console.log('getLargeItem key:' + key);\n                    var path = 'GameSandBox://localStorage/' + key;\n                    // console.log('getLargeItem, path:' + path + ' isFileExist:' + BK.FileUtil.isFileExist(path));\n                    if (BK.FileUtil.isFileExist(path)) {\n                        var str = BK.FileUtil.readFile(path).readAsString(true);\n                        // console.log('getLargeItem value:' + str);\n                        return str;\n                    }\n                } catch (e) {\n                    console.log('getLargeItem exception:' + e);\n                }\n                return null;\n            } else {\n                return Tools.getItem(key);\n            }\n        },\n\n        setItem: function (key, item) {\n            if (item === null || item === undefined) {\n                console.log('setItem error, item is null or undefined, key:' + key);\n                return;\n            }\n            if (typeof item !== 'string') {\n                // console.log('key:' + key + ' type:' + (typeof item));\n                item = item.toString();\n                // console.log('item.toString():' + item);\n            }\n            if (WX_GAME_ENV) {\n                wx.setStorage({\n                    key: key,\n                    data: item,\n                });\n                // } else if (QQ_GAME_ENV && BK.localStorage) {\n                //     BK.localStorage.setItem(key, item);\n            } else {\n                try {\n                    cc.sys.localStorage.setItem(key, item);\n                } catch (e) {\n                    console.log('setItem exception:' + e + ' key:' + key);\n                    // console.log('item:' + item);\n                }\n            }\n        },\n\n        getItem: function (key) {\n            if (WX_GAME_ENV) {\n                try {\n                    return wx.getStorageSync(key);\n                } catch (e) {\n                    console.log(e);\n                    return null;\n                }\n                // } else if (QQ_GAME_ENV && BK.localStorage) {\n                //     return BK.localStorage.getItem(key);\n            } else {\n                return cc.sys.localStorage.getItem(key);\n            }\n        },\n\n        removeItem: function (key) {\n            // if (QQ_GAME_ENV && BK.localStorage) {\n            //     BK.localStorage.removeItem(key);\n            // } else {\n            //     cc.sys.localStorage.removeItem(key);\n            // }\n            cc.sys.localStorage.removeItem(key);\n        },\n\n        log: function (str) {\n            if (QQ_GAME_ENV) {\n                BK.Script.log(1, 1, str);\n            }\n            console.log(str);\n        },\n\n        /**\n         * 先显示，等一帧待renderData更新后隐藏节点\n         * 此方法是专门针对QQ玩一玩的优化，该平台更新renderData时底层gl接口decodeTexture等操作耗时较高，需要提前进行\n         * @param  {cc.Component} comp 执行schedule的组件\n         * @param  {cc.Node} 需要操作的节点\n         * @param  {function} callback 隐藏时的回调\n         */\n        setInvisibleAfterUpdateRenderData: function (comp, node, callback = null) {\n            if (!comp || !node) return;\n\n            const originPos = cc.v2(node.position);\n            node.position = OUT_OF_VIEW_POS;\n            node.active = true;\n            Tools.setNodeVisible(node, true);\n\n            const scheduleFunc = function () {\n                Tools.setNodeVisible(node, false);\n                node.position = originPos;\n                if (callback) callback();\n            };\n\n            comp.scheduleOnce(scheduleFunc, 2.0 / cc.game.getFrameRate());\n        },\n\n        getRadiusByKnifeCount: function (count) {\n            var firstRadius = 200;\n            var radius = this.getRadioByCount(count) * firstRadius;\n            return radius;\n        },\n\n        getRadioByCount: function (count) {\n            var newCount = count < 8 ? 0 : (count > 20 ? 12 : count - 8);\n            return (newCount / 12) + 1;\n        },\n\n        getIntervalByCount: function (count) {\n            return count < 50 ? 10 : 500 / count;\n        },\n\n\n        isInMyView: function (self, other, worldRect, width, height, camera) {\n            var localPos = self.node.position.sub(camera.node.position);\n            var pos = other.node.parent.convertToWorldSpaceAR(other.node.position);\n            var finalPos = self.node.parent.convertToNodeSpaceAR(pos);\n            var otherPos = finalPos.sub(camera.node.position);\n\n            worldRect.width = width / camera.zoomRatio;\n            worldRect.height = height / camera.zoomRatio;\n            worldRect.center = localPos;\n            // console.log(worldRect.center, worldRect.width, worldRect.height)\n            var otherRect = other.defenceRect.getRect();\n            otherRect.center = otherPos;\n\n            // if (log) console.log(otherPos, otherRect.width, otherRect.height);\n\n            return worldRect.intersects(otherRect);\n\n        },\n\n        compareVersion: function (v1, v2) {\n            v1 = v1.split('.');\n            v2 = v2.split('.');\n            const len = Math.max(v1.length, v2.length);\n\n            while (v1.length < len) {\n                v1.push('0');\n            }\n            while (v2.length < len) {\n                v2.push('0');\n            }\n\n            for (let i = 0; i < len; i++) {\n                const num1 = parseInt(v1[i])\n                const num2 = parseInt(v2[i])\n\n                if (num1 > num2) {\n                    return 1;\n                } else if (num1 < num2) {\n                    return -1;\n                }\n            }\n\n            return 0;\n        },\n\n\n        getPositiveOrNegative: function () {\n            var arr = [1, -1];\n            var index = Math.floor(Math.random() * 2)\n            return arr[index];\n        },\n\n        // 获得两圈碰撞的相交点和垂直平分线的角度\n        getCenterParam: function (detail) {\n            var worldPos1 = detail[0].parent.convertToWorldSpaceAR(detail[0].position);\n            var worldPos2 = detail[1].parent.convertToWorldSpaceAR(detail[1].position);\n            var centerPos = cc.v2((worldPos1.x + worldPos2.x) / 2, (worldPos1.y + worldPos2.y) / 2);\n            var offset = Math.PI / 36 - Math.random() * (Math.PI / 18); //-5~5度的方向偏移\n            var dir = worldPos1.sub(worldPos2).rotate(Math.PI / 2 + offset);\n\n\n            var rotation = this.getRotationByDir(dir);\n            return [centerPos, rotation];\n        },\n\n        getRotationByDir: function (dir) {\n            var rotate = dir.angle(cc.v2(-1, 0)) * (180 / Math.PI);\n            if (dir.y < 0) {\n                rotate = -rotate;\n            }\n            // console.log(dir, rotate);\n            return rotate;\n        },\n\n\n        getGoldStr: function (count) {\n            return count;\n            var str = '';\n            if (count > 1000000) {\n                str = Math.floor(count * 10 / 1000000) / 10 + 'M';\n            } else if (count > 1000) {\n                str = Math.floor(count * 10 / 1000) / 10 + 'K';\n            } else {\n                str = Math.floor(count * 10) / 10\n            }\n            return str;\n        },\n\n        //三个阶段，0：free，1：share，2：adver\n\n        getCurStage: function (playCount, limits, stagePrecents) {\n\n            var stage = 0;\n            for (const limit of limits) {\n                if (playCount < limit) {\n                    break;\n                } else {\n                    stage++;\n                }\n            }\n\n            if (stage === 0) {\n                return 0\n            } else {\n                var int = this.getRandomInt(0, 100);\n                if (int < stagePrecents[stage]) {\n                    return 1\n                } else {\n                    return 2\n                }\n            }\n\n        },\n\n        jsonToArray: function (jsonObj) {\n            let ret = [];\n            for (let key in jsonObj) {\n                ret[key] = jsonObj[key];\n                if (Tools.isJson(ret[key])) {\n                    ret[key] = Tools.jsonToArray(ret[key]);\n                }\n            }\n            // for (var i = 0; i < jsonObj.length; i++) {\n            //     ret[i] = jsonObj[i];\n            // }\n            return ret;\n        },\n\n        //判断obj是否为json对象\n        isJson: function (obj) {\n            var isjson = typeof (obj) == \"object\" && Object.prototype.toString.call(obj).toLowerCase() == \"[object object]\" && !obj.length;\n            return isjson;\n        },\n\n\n        //根据权重获取数组元素\n        getRandomItemByWeight: function (datas) {\n            var limitWeights = [];\n            var totalWeight = 0;\n            for (let i = 0; i < datas.length; i++) {\n                limitWeights[i] = totalWeight + datas[i].weight;\n                totalWeight += datas[i].weight;\n            }\n\n            var random = Tools.getRandomInt(0, totalWeight);\n            // console.log('权重区间:', JSON.stringify(limitWeights))\n            // console.log('本次随机:', random, '/', totalWeight)\n            for (let i = 0; i < limitWeights.length; i++) {\n                var data = datas[i];\n                if (random < limitWeights[i]) {\n                    return data;\n                }\n            }\n\n\n            return null;\n        },\n\n\n        /**\n         * 创建按钮点击handler\n         * @param  {cc.Node} target 目标节点\n         * @param  {String} component 目标组件名\n         * @param  {String} handlerFuncName 响应事件函数名\n         * @param  {String} customEventData 自定义事件数据\n         */\n        createEventHandler: function (target, component, handlerFuncName, customEventData) {\n            const handler = new cc.Component.EventHandler();\n            handler.target = target;\n            handler.component = component;\n            handler.handler = handlerFuncName;\n            handler.customEventData = customEventData;\n            return handler;\n        },\n\n        //对对象进行浅拷贝\n        copyObj: function (obj) {\n            if (!obj) return\n            var a = {};\n            for (let key in obj) {\n                a[key] = obj[key];\n            }\n            return a;\n        },\n\n\n        getStrlen: function (str) {\n            var len = 0;\n            for (var i = 0; i < str.length; i++) {\n                if (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n                    len += 2;\n                } else {\n                    len++;\n                }\n            }\n            return len;\n        }\n    }\n});"]}