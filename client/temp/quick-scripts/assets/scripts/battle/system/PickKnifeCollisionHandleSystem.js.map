{"version":3,"sources":["PickKnifeCollisionHandleSystem.js"],"names":["BaseCollisionHandleSystem","require","PickKnifeCollisionHandleSystem","cc","Class","extends","properties","_eventListName","default","override","handelCollisionEvent","event","other","self","tag","node","group","emit","updateGameLogic","dt","_super","_collisionEventMgr","clearPickKnifeEvent"],"mappings":";;;;;;AAAA;;;;AAIA,IAAMA,4BAA4BC,QAAQ,2BAAR,CAAlC;;AAEA;;;;AAIA,IAAIC,iCAAiCC,GAAGC,KAAH,CAAS;AAC1CC,aAASL,yBADiC;;AAG1CM,gBAAY;AACRC,wBAAgB;AACZC,qBAAS,0BADG;AAEZC,sBAAU;AAFE;AADR,KAH8B;AAS1C;AACAC,0BAAsB,8BAAUC,KAAV,EAAiB;AACnC,YAAIC,QAAQD,MAAM,CAAN,CAAZ;AACA,YAAIE,OAAOF,MAAM,CAAN,CAAX,CAFmC,CAEd;AACrB;AACA,YAAIC,MAAME,GAAN,KAAc,CAAd,IAAmBD,KAAKC,GAAL,KAAa,CAApC,EAAuC;AACnC;AACH;;AAED,gBAAQF,MAAMG,IAAN,CAAWC,KAAnB;AACI;AACA,iBAAK,OAAL;AACA,iBAAK,MAAL;AACIH,qBAAKE,IAAL,CAAUE,IAAV,CAAe,WAAf,EAA4B,CAAC,eAAD,EAAkBL,KAAlB,CAA5B;AACA;;AALR;AAUH,KA5ByC;;AA8B1CM,qBAAiB,yBAAUC,EAAV,EAAc;AAC3B,aAAKC,MAAL,CAAYD,EAAZ;AACA,aAAKE,kBAAL,CAAwBC,mBAAxB;AACH;;AAjCyC,CAAT,CAArC","file":"PickKnifeCollisionHandleSystem.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\system","sourcesContent":["/**\n * @fileoverview 玩家碰撞事件处理系统\n * @author jinhaitao@gameley.cn (金海涛)\n */\nconst BaseCollisionHandleSystem = require('BaseCollisionHandleSystem');\n\n/**\n * 专门处理玩家碰撞系统\n */\n\nvar PickKnifeCollisionHandleSystem = cc.Class({\n    extends: BaseCollisionHandleSystem,\n\n    properties: {\n        _eventListName: {\n            default: '_pickKnifeCollisionEvent',\n            override: true,\n        },\n    },\n    /** @override */\n    handelCollisionEvent: function (event) {\n        var other = event[0];\n        var self = event[1]; // 被捡的刀\n        // 如果已经被捡或拾取触发者无队伍，则跳过\n        if (other.tag === 0 || self.tag !== 0) {\n            return;\n        }\n\n        switch (other.node.group) {\n            // case 'otherKnife':\n            case 'knife':\n            case 'hero':\n                self.node.emit('emitEvent', ['onPickUpKnife', other]);\n                break;\n\n        }\n\n\n    },\n\n    updateGameLogic: function (dt) {\n        this._super(dt);\n        this._collisionEventMgr.clearPickKnifeEvent();\n    }\n\n\n});"]}