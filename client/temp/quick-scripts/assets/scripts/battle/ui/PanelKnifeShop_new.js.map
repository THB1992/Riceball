{"version":3,"sources":["PanelKnifeShop_new.js"],"names":["Tools","require","ConfigData","PlayerData","AdvertMgr","AdverType","ShareMgr","ShareType","TaskType","ItemGetType","GameData","PlatformMgr","cc","Class","extends","Component","properties","topNode","Node","content","itemKnifeSkin","Prefab","pageView","PageView","pagePrefab","buyNode","unLockNode","linkNode","nameLabel","Label","introduceNode","introduceTextNode","introduceLabel","propertyNode","propertyLabel","propertyAnim","Animation","taskStartLabel","taskProgressLabel","taskFinalLabel","taskInfoNode","watchAdverBtnNode","watchAdverLabel","buyLangLabel","unlockLangLabel","jumpNode","shareIcon","adverIcon","suitNode","suitNameLabel","suiProcessLabel","suitCloseIcon","suitActiveIcon","suitHeroNameLabel","suitKnifeNameLabel","suitSkillLabel","suitHeroFlag","suitKnifeFlag","suitHeroFalseFlag","suitKnifeFalseFlag","suitIconNode","_itemCells","_itemNodes","_itemPageCells","_pageClickHistory","itemTypePool","typeIconNode","shopBgNode","perCount","goldIcon","diamondIcon","priceLabel","lastPageIndex","keyNode","keyParentNode","onLoad","checkUI","_itemClickHistory","init","world","localPlayer","initData","initUI","initKey","refresh","scrollPage","showName","knifeSkinDatas","instance","slice","curTime","getCurTime","ownKnifeSkins","filterDataByTime","clientData","hideSpecialSkin","isIOS","isApp","sort","a","b","i","length","data","type","getWay","priceType","GOLD","DIAMOND","taskType","RANK","TREASUREBOX","BOX","TASK","NFT","comleted","nft_balance_ids","goodsId","rest","push","page","pageTypes","arr","pageLength","Math","ceil","j","pageNode","children","instantiate","parent","k","index","itemNode","itemComp","position","v2","floor","getComponent","setOnItemClick","pushToPageItemPool","knifeSkinId","id","setCurrentPageIndex","isPad","y","node","height","keyCount","active","comp","getItemByPage","selectItem","item","isGet","equipNode","onItemClick","onScrollPage","getCurrentPageIndex","getPageType","setTitle","setTimeout","count","isOwnKnifeSkin","own","nft_user_datas","console","log","addKnifeSkin","canUnlock","arrContains","completeTaskIds","taskId","needCheck","needCheckTaskIds","isNew","newDate","isBeforeOtherTime","canBuy","canBuyItem","processStr","DUANWU","process","getTaskProcess","taskParam","knifeSkin","buyBtnClick","lastCheckItem","gold","price","updateGold","uiMgr","showTips","fireBaseEvent","zongZi","updateZongZi","jumpBtnClick","closePanelShop","jumpParam","showPanelInvite","showPanelDailyTask","showPanelAddTop","showPanelSign","showPanelHolidayRank","unLockBtnClick","self","closeFunc","success","LOGIN","updateSignCount","refreshRedDot","showShare","showAdver","linkBtnClick","requestNFTGet","share","UnlockSkin","errFunc","getAdvertUnitId","event","customEventData","isInit","isAuto","setCheck","setCanBuy","string","onEquipKnifeSkin","lastEquipItem","setEquip","getGoldStr","unlockWay","ADVERCOUNT","name","introduce","propertyTips","width","play","str","getStringByFormat","getUITipStr","suit","suitData","getSuitData","heroData","getHeroSkinById","heroSkin","knifeData","isOwnHeroSkin","equipHero","isCurEquipHeroSkin","equipKnife","isCurEquipKnifeSkin","skillTips","showActiveSuitEffect","onWathAdverBtnClick","taskMgr","refreshTaskInHome","WatchAdver","onBtnClose","close","closeCallcack","clearNeedCheckTaskIds","setCloseCallback","callback","update","dt"],"mappings":"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","file":"PanelKnifeShop_new.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\scripts\\battle\\ui","sourcesContent":["const Tools = require('Tools');\r\nconst ConfigData = require('ConfigData');\r\nconst PlayerData = require('PlayerData');\r\nconst AdvertMgr = require('AdvertMgr');\r\nconst AdverType = require('Types').AdverType;\r\nconst ShareMgr = require('ShareMgr');\r\nconst ShareType = require('Types').ShareType;\r\nconst TaskType = require('Types').TaskType;\r\nconst ItemGetType = require('Types').ItemGetType;\r\nconst GameData = require('GameData');\r\nconst PlatformMgr = require('PlatformMgr');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        topNode: cc.Node,\r\n        content: cc.Node,\r\n        itemKnifeSkin: cc.Prefab,\r\n\r\n        pageView: cc.PageView,\r\n        pagePrefab: cc.Prefab,\r\n\r\n        buyNode: cc.Node,\r\n        unLockNode: cc.Node,\r\n        linkNode : cc.Node,\r\n        nameLabel: cc.Label,\r\n        introduceNode: cc.Node,\r\n        introduceTextNode: cc.Node,\r\n        introduceLabel: cc.Label,\r\n        propertyNode: cc.Node,\r\n        propertyLabel: cc.Label,\r\n        propertyAnim: cc.Animation,\r\n\r\n        taskStartLabel: cc.Label,\r\n        taskProgressLabel: cc.Label,\r\n        taskFinalLabel: cc.Label,\r\n\r\n        taskInfoNode: cc.Node,\r\n        watchAdverBtnNode: cc.Node,\r\n\r\n        watchAdverLabel: cc.Label,\r\n        buyLangLabel: cc.Label,\r\n        unlockLangLabel: cc.Label,\r\n        jumpNode: cc.Node,\r\n        //解锁btn的图标\r\n        shareIcon: cc.Node,\r\n        adverIcon: cc.Node,\r\n\r\n\r\n        //套装\r\n        suitNode: cc.Node,\r\n        suitNameLabel: cc.Label,\r\n        suiProcessLabel: cc.Label,\r\n        suitCloseIcon: cc.Node,\r\n        suitActiveIcon: cc.Node,\r\n        suitHeroNameLabel: cc.Label,\r\n        suitKnifeNameLabel: cc.Label,\r\n        suitSkillLabel: cc.Label,\r\n        suitHeroFlag: cc.Node,\r\n        suitKnifeFlag: cc.Node,\r\n        suitHeroFalseFlag: cc.Node,\r\n        suitKnifeFalseFlag: cc.Node,\r\n        suitIconNode: cc.Node,\r\n\r\n        _itemCells: [],\r\n        _itemNodes: [],\r\n        _itemPageCells: [],\r\n        _pageClickHistory: [],\r\n\r\n\r\n        itemTypePool: [],\r\n        typeIconNode: cc.Node,\r\n\r\n        shopBgNode: cc.Node,\r\n        perCount: 6,\r\n\r\n        goldIcon: cc.Node,\r\n        diamondIcon: cc.Node,\r\n        priceLabel: cc.Label,\r\n        lastPageIndex: 0,\r\n\r\n        keyNode: cc.Node,\r\n        keyParentNode: cc.Node,\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        this.checkUI();\r\n        this._itemClickHistory = {}\r\n    },\r\n\r\n    init: function (world) {\r\n        this.world = world;\r\n        this.localPlayer = world.localPlayer;\r\n        this.initData();\r\n        this.initUI();\r\n        this.initKey()\r\n        this.refresh();\r\n        this.scrollPage();\r\n        this.showName();\r\n    },\r\n\r\n    initData() {\r\n        this.itemTypePool = [];\r\n        var knifeSkinDatas = ConfigData.instance.knifeSkinDatas.slice();\r\n        var curTime = PlayerData.instance.getCurTime();\r\n        var ownKnifeSkins = PlayerData.instance.ownKnifeSkins;\r\n        Tools.filterDataByTime(knifeSkinDatas, ownKnifeSkins, curTime, GameData.instance, ConfigData.instance.clientData.hideSpecialSkin, PlatformMgr.isIOS(), PlatformMgr.isApp());\r\n        knifeSkinDatas.sort((a, b) => {\r\n            // if (a.newDate && Tools.isBeforeOtherTime(a.newDate, curTime)) {\r\n            //     return -1;\r\n            // } else if (b.newDate && Tools.isBeforeOtherTime(b.newDate, curTime)) {\r\n            //     return 1;\r\n            // } else {\r\n            return a.sort - b.sort;\r\n            // }\r\n        })\r\n\r\n        for (let i = 0; i < knifeSkinDatas.length; i++) {\r\n            var data = knifeSkinDatas[i];\r\n            var type = 0;\r\n            if (data.getWay === 0) {\r\n                if (data.priceType === 0) {\r\n                    type = ItemGetType.GOLD;\r\n                } else {\r\n                    type = ItemGetType.DIAMOND;\r\n                }\r\n            } \r\n            else if (data.getWay === 1) {\r\n                if (data.taskType === TaskType.RANK) {\r\n                    type = ItemGetType.RANK;\r\n                } else if (data.taskType === TaskType.TREASUREBOX) {\r\n                    type = ItemGetType.BOX;\r\n                } else {\r\n                    type = ItemGetType.TASK;\r\n                }\r\n            }\r\n            else if (data.getWay === 100) {\r\n                type = ItemGetType.NFT;\r\n\r\n                //塞入余额，玩家是否拥有\r\n                let comleted = PlatformMgr.nft_balance_ids[data.goodsId] || 0\r\n                data.rest = 1000 - comleted\r\n            }\r\n            this.push(type, data);\r\n        }\r\n    },\r\n\r\n\r\n    initUI() {\r\n        this.page = -1;\r\n        this.pageTypes = [];\r\n        for (let i = 0; i < this.itemTypePool.length; i++) {\r\n            var arr = this.itemTypePool[i];\r\n            if (!arr) continue;\r\n            var pageLength = Math.ceil(arr.length / this.perCount);\r\n            for (let j = 0; j < pageLength; j++) {\r\n                this.page++;\r\n                this.pageTypes[this.page] = i;\r\n                let pageNode = this.content.children[this.page]\r\n                if (!pageNode) {\r\n                    pageNode = cc.instantiate(this.pagePrefab);\r\n                    pageNode.parent = this.content;\r\n                }\r\n                for (let k = 0; k < this.perCount; k++) {\r\n                    let index = j * this.perCount + k;\r\n                    var data = arr[index];\r\n                    let itemNode = pageNode.children[k]\r\n                    var itemComp\r\n                    if (!itemNode) {\r\n                        itemNode = cc.instantiate(this.itemKnifeSkin);\r\n                        itemNode.parent = pageNode;\r\n                        itemNode.position = cc.v2(k % 3 * 230 - 235, -78 - Math.floor(k / 3) * 160);\r\n                        itemComp = itemNode.getComponent('ItemKnifeSkin_new')\r\n                        itemComp.init(data);\r\n                        itemComp.page = this.page;\r\n                        itemComp.index = k;\r\n                        if (data) {\r\n                            itemComp.setOnItemClick(this, itemComp);\r\n                            this._itemCells.push(itemComp);\r\n                            this.pushToPageItemPool(this.page, itemComp);\r\n                        }\r\n                    } else {\r\n                        itemComp = itemNode.getComponent('ItemKnifeSkin_new')\r\n                    }\r\n\r\n                    //找出当前装备\r\n                    if (data && PlayerData.instance.knifeSkinId === data.id) {\r\n                        this.lastPageIndex = this.page;\r\n                    }\r\n                    //设置是否可买\r\n                    // if (data && !PlayerData.instance.isOwnKnifeSkin(data.id) && PlayerData.instance.canBuyItem(data)) {\r\n                    //     itemComp.setCanBuy(true);\r\n                    // }\r\n                }\r\n            }\r\n        };\r\n        this.pageView.onLoad();\r\n        this.pageView.setCurrentPageIndex(1);\r\n\r\n\r\n    },\r\n\r\n    checkUI() {\r\n        var isPad = GameData.instance.isPad();\r\n        this.topNode.y = isPad ? -200 : 0;\r\n        this.pageView.node.height = isPad ? 380 : 550;\r\n        this.shopBgNode.height = isPad ? 580 : 750;\r\n        this.suitNode.y = isPad ? 240 : 390;\r\n        this.nameLabel.node.y = isPad ? 180 : 230\r\n        this.propertyNode.y = isPad ? 150 : 195;\r\n        this.propertyAnim.node.parent.y = isPad ? 150 : 195;\r\n        this.perCount = isPad ? 6 : 9;\r\n    },\r\n\r\n    initKey() {\r\n        var keyCount = PlayerData.instance.keyCount;\r\n        for (let i = 0; i < 3; i++) {\r\n            this.keyParentNode.children[i].active = i < keyCount;\r\n        }\r\n    },\r\n\r\n    //以类型区分的data数组\r\n    push(type, data) {\r\n        if (!this.itemTypePool[type]) {\r\n            this.itemTypePool[type] = [];\r\n        }\r\n        this.itemTypePool[type].push(data);\r\n    },\r\n    //以页数区分的ItemComp数组\r\n    pushToPageItemPool(page, comp) {\r\n        if (!this._itemPageCells[page]) {\r\n            this._itemPageCells[page] = [];\r\n        }\r\n        this._itemPageCells[page].push(comp)\r\n    },\r\n\r\n    getItemByPage(page, index) {\r\n        if (this._itemPageCells[page]) {\r\n            return this._itemPageCells[page][index];\r\n        }\r\n    },\r\n\r\n    selectItem(page) {\r\n        if (this._itemPageCells[page]) {\r\n            var length = this._itemPageCells[page].length;\r\n            var index = -1;\r\n            for (let i = length - 1; i >= 0; i--) {\r\n                let item = this._itemPageCells[page][i];\r\n                if (item.isGet) {\r\n                    if (item.equipNode.active) {\r\n                        this.onItemClick(null, this._itemPageCells[page][i], false, true)\r\n                        return;\r\n                    }\r\n                } else {\r\n                    index = i;\r\n                }\r\n            }\r\n\r\n            //检查是否点过\r\n            if (index !== -1) {\r\n                if (this._pageClickHistory[page]) {\r\n                    index = this._pageClickHistory[page];\r\n                }\r\n                this.onItemClick(null, this._itemPageCells[page][index], false, true)\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    onScrollPage(pageView) {\r\n        var index = pageView.getCurrentPageIndex();\r\n        var type = this.getPageType(index);\r\n        this.setTitle(type);\r\n        this.selectItem(index);\r\n    },\r\n\r\n    setTitle(type) {\r\n        for (let i = 0; i < this.typeIconNode.children.length; i++) {\r\n            this.typeIconNode.children[i].active = i === type;\r\n        }\r\n    },\r\n\r\n    showName() {\r\n        this.nameLabel.node.active = false;\r\n        setTimeout(() => {\r\n            this.nameLabel.node.active = true;\r\n        }, 500)\r\n    },\r\n\r\n\r\n    getPageType: function (index) {\r\n        return this.pageTypes[index];\r\n    },\r\n\r\n    scrollPage: function () {\r\n        this.pageView.onLoad();\r\n        var index = this.lastPageIndex - 1;\r\n        index = index >= 0 ? index : 1;\r\n        this.pageView.setCurrentPageIndex(index);\r\n        setTimeout(() => {\r\n            this.pageView.setCurrentPageIndex(this.lastPageIndex);\r\n            this.onScrollPage(this.pageView)\r\n        }, 200);\r\n    },\r\n\r\n    refresh: function () {\r\n        var count = 0;\r\n        for (const itemComp of this._itemCells) {\r\n            if (!itemComp) continue;\r\n            var data = itemComp.data;\r\n            var isGet = PlayerData.instance.isOwnKnifeSkin(data.id);\r\n\r\n            //NFT测试，显示是否拥有\r\n            if(data.getWay==100 && !isGet){\r\n                let own = PlatformMgr.nft_user_datas[data.goodsId] || 0\r\n                if(own > 0){\r\n                    console.log(\"购买后。同步到本地皮肤数据\")\r\n                    PlayerData.instance.addKnifeSkin(data.id);\r\n                    isGet = true\r\n                }\r\n            }\r\n\r\n            var canUnlock = Tools.arrContains(PlayerData.instance.completeTaskIds, data.taskId);\r\n            var needCheck = Tools.arrContains(PlayerData.instance.needCheckTaskIds, data.taskId);\r\n            var isNew = data.newDate && Tools.isBeforeOtherTime(data.newDate, PlayerData.instance.getCurTime());\r\n            var canBuy = PlayerData.instance.canBuyItem(data) && !this._itemClickHistory[data.id];\r\n\r\n            var processStr = '';\r\n            if (data.getWay === 1) {\r\n                if (data.taskType !== TaskType.RANK && data.taskType !== TaskType.DUANWU && data.taskType !== TaskType.TREASUREBOX) {\r\n                    var process = PlayerData.instance.getTaskProcess(data.taskType);\r\n                    processStr = process + '/' + data.taskParam;\r\n                }\r\n            }\r\n\r\n            itemComp.refresh(isGet, canUnlock, needCheck, isNew, processStr, canBuy);\r\n            if (isGet) count++;\r\n            if (PlayerData.instance.knifeSkin.id === data.id) {\r\n                this.onItemClick(null, itemComp, true)\r\n                // itemComp.setCheck(false);\r\n            }\r\n        }\r\n    },\r\n\r\n    buyBtnClick: function () {\r\n        if (this.lastCheckItem) {\r\n            var item = this.lastCheckItem;\r\n            switch (item.data.priceType) {\r\n                case 0: {\r\n                    if (PlayerData.instance.gold >= item.data.price) {\r\n                        PlayerData.instance.addKnifeSkin(item.data.id);\r\n                        PlayerData.instance.updateGold(-(item.data.price));\r\n                        this.refresh();\r\n                        this.onItemClick(null, item);\r\n                    } else {\r\n                        this.world.uiMgr.showTips(7)\r\n                    }\r\n                    break;\r\n                }\r\n                case 1: {\r\n                    AdvertMgr.instance.fireBaseEvent(\"click_store_product_btn\",\"product_type\",\"skinknives\");\r\n                    if (PlayerData.instance.zongZi >= item.data.price) {\r\n                        PlayerData.instance.addKnifeSkin(item.data.id);\r\n                        PlayerData.instance.updateZongZi(-(item.data.price));\r\n                        this.refresh();\r\n                        this.onItemClick(null, item);\r\n                    } else {\r\n                        this.world.uiMgr.showTips('Insufficient Diamond');\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    jumpBtnClick: function () {\r\n        if (this.lastCheckItem) {\r\n            this.world.uiMgr.closePanelShop();\r\n            // this.close();\r\n            var item = this.lastCheckItem;\r\n            switch (item.data.jumpParam) {\r\n                case 'PanelInvite': {\r\n                    this.world.uiMgr.showPanelInvite();\r\n                    break;\r\n                }\r\n                case 'PanelDailyTask': {\r\n                    this.world.uiMgr.showPanelDailyTask();\r\n                    break;\r\n                }\r\n                case 'PanelAddTop': {\r\n                    this.world.uiMgr.showPanelAddTop();\r\n                    break;\r\n                }\r\n                case 'PanelSign': {\r\n                    this.world.uiMgr.showPanelSign();\r\n                    break;\r\n                }\r\n                case 'PanelHolidayRank': {\r\n                    this.world.uiMgr.showPanelHolidayRank(true);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    //解锁皮肤按钮\r\n    unLockBtnClick: function () {\r\n        var self = this;\r\n        // 关闭广告时回调\r\n        var closeFunc = (success) => {\r\n            if (self.lastCheckItem && success) {\r\n                var item = self.lastCheckItem;\r\n                PlayerData.instance.addKnifeSkin(item.data.id);\r\n                self.refresh();\r\n                self.onItemClick(null, item);\r\n                if (item.data.taskType === TaskType.LOGIN) {\r\n                    PlayerData.instance.updateSignCount();\r\n                }\r\n                self.world.uiMgr.refreshRedDot();\r\n            }\r\n        }\r\n\r\n        if (this.shareIcon.active) {\r\n            this.showShare(closeFunc);\r\n        } else {\r\n            this.showAdver(closeFunc);\r\n        }\r\n    },\r\n\r\n    linkBtnClick: function () {\r\n        //NFT测试\r\n        var data = this.lastCheckItem.data;\r\n        PlatformMgr.requestNFTGet(data)\r\n    },\r\n\r\n    showShare: function (closeFunc) {\r\n        ShareMgr.share(ShareType.UnlockSkin, closeFunc);\r\n    },\r\n\r\n    showAdver: function (closeFunc) {\r\n        var self = this;\r\n        var errFunc = () => {\r\n            this.showShare(closeFunc);\r\n        }\r\n        AdvertMgr.instance.fireBaseEvent(\"click_adv_btn\",\"position_id\",ConfigData.instance.getAdvertUnitId(AdverType.UnlockSkin));\r\n        AdvertMgr.instance.showAdver(AdverType.UnlockSkin, closeFunc, errFunc);\r\n    },\r\n\r\n    onItemClick: function (event, customEventData, isInit = false, isAuto = false) {\r\n        var itemComp = customEventData;\r\n        var data = itemComp.data;\r\n\r\n        if (this.lastCheckItem) this.lastCheckItem.setCheck(false);\r\n        itemComp.setCheck(true);\r\n        itemComp.setCanBuy(false);\r\n        this.lastCheckItem = itemComp;\r\n\r\n        if (!isAuto && !itemComp.isGet) {\r\n            this._pageClickHistory[itemComp.page] = itemComp.index;\r\n        }\r\n        this._itemClickHistory[data.id] = true;\r\n\r\n        this.buyNode.active = false;\r\n        this.linkNode.active = false;\r\n        this.unLockNode.active = false;\r\n        this.watchAdverBtnNode.active = false;\r\n\r\n        this.buyLangLabel.string = 'Buy'\r\n        this.unlockLangLabel.string = 'Unlock:'\r\n\r\n        // this.jumpNode.active = false;\r\n        if (!isInit) this.world.onEquipKnifeSkin(data, itemComp.isGet, false);\r\n        if (itemComp.isGet) {\r\n            if (this.lastEquipItem) this.lastEquipItem.setEquip(false)\r\n            this.lastEquipItem = itemComp;\r\n            itemComp.setEquip(true);\r\n        } else {\r\n            if (data.getWay === 0) {\r\n                this.buyNode.active = true;\r\n                this.goldIcon.active = data.priceType === 0;\r\n                this.diamondIcon.active = data.priceType === 1;\r\n                if (data.price) this.priceLabel.string = Tools.getGoldStr(data.price);\r\n            } else if (data.getWay === 1) {\r\n                if (Tools.arrContains(PlayerData.instance.completeTaskIds, data.taskId)) {\r\n                    this.unLockNode.active = true;\r\n                    this.shareIcon.active = data.unlockWay === 1;\r\n                    this.adverIcon.active = data.unlockWay === 2;\r\n                } else if (data.taskType === TaskType.ADVERCOUNT) {\r\n                    this.watchAdverBtnNode.active = true;\r\n                }\r\n            }\r\n            else if (data.getWay === 100) {\r\n                //NFT测试\r\n                this.buyNode.active = false;\r\n                this.linkNode.active = true;\r\n            }\r\n        }\r\n\r\n        this.nameLabel.string = data.name;\r\n        this.introduceNode.active = !(itemComp.isGet || this.buyNode.active || this.unLockNode.active || this.watchAdverBtnNode.active);\r\n        this.introduceLabel.string = data.introduce;\r\n        this.propertyNode.active = data.propertyTips ? true : false;\r\n        this.propertyLabel.string = data.propertyTips ? data.propertyTips : '';\r\n        this.propertyAnim.node.width = this.propertyNode.width;\r\n        if (this.propertyNode.active) {\r\n            this.propertyAnim.play();\r\n        }\r\n        this.keyNode.active = data.taskType === TaskType.TREASUREBOX;\r\n        this.introduceTextNode.active = !this.keyNode.active;\r\n        if (this.keyNode.active) {\r\n            this.introduceNode.active = true;\r\n        }\r\n\r\n        this.taskInfoNode.active = data.getWay === 1;\r\n        if (this.taskInfoNode.active) {\r\n            var process = PlayerData.instance.getTaskProcess(data.taskType);\r\n            var str = process < data.taskParam ? process : data.taskParam;\r\n            this.taskStartLabel.string = '(';\r\n            this.taskProgressLabel.string = str ? str : 0;\r\n            this.taskFinalLabel.string = '/' + data.taskParam + ')';\r\n\r\n            if (data.taskType === TaskType.RANK || data.taskType === TaskType.DUANWU || data.taskType === TaskType.TREASUREBOX) {\r\n                this.taskStartLabel.string = '';\r\n                this.taskProgressLabel.string = '';\r\n                this.taskFinalLabel.string = '';\r\n            }\r\n            this.watchAdverLabel.string = Tools.getStringByFormat(ConfigData.instance.getUITipStr(20), str, data.taskParam)\r\n        }\r\n\r\n\r\n        this.suitNode.active = data.suit;\r\n        if (data.suit) {\r\n            var suitData = ConfigData.instance.getSuitData(data.suit);\r\n            var heroData = ConfigData.instance.getHeroSkinById(suitData.heroSkin);\r\n            var knifeData = data;\r\n            var isOwnHeroSkin = PlayerData.instance.isOwnHeroSkin(suitData.heroSkin);\r\n            var isOwnKnifeSkin = PlayerData.instance.isOwnKnifeSkin(suitData.knifeSkin);\r\n            var equipHero = PlayerData.instance.isCurEquipHeroSkin(heroData.id);\r\n            var equipKnife = PlayerData.instance.isCurEquipKnifeSkin(knifeData.id);\r\n\r\n            this.suitNameLabel.string = suitData.name;\r\n            var process = 0;\r\n            if (isOwnHeroSkin) process++;\r\n            if (isOwnKnifeSkin) process++;\r\n            this.suiProcessLabel.string = '(' + process + '/2)';\r\n            this.suitHeroNameLabel.string = heroData.name;\r\n            this.suitKnifeNameLabel.string = knifeData.name;\r\n            this.suitSkillLabel.string = suitData.skillTips;\r\n            for (let i = 0; i < this.suitIconNode.children.length; i++) {\r\n                if (this.suitIconNode.children[i]) {\r\n                    this.suitIconNode.children[i].active = (i + 1) == data.suit;\r\n                }\r\n            }\r\n\r\n\r\n            this.suitHeroFlag.active = equipHero;\r\n            this.suitKnifeFlag.active = equipKnife;\r\n            this.suitHeroFalseFlag.active = !equipHero;\r\n            this.suitKnifeFalseFlag.active = !equipKnife;\r\n\r\n\r\n            this.suitActiveIcon.active = isOwnHeroSkin && isOwnKnifeSkin && equipHero && equipKnife;\r\n            this.suitCloseIcon.active = !(isOwnHeroSkin && isOwnKnifeSkin && equipHero && equipKnife);\r\n\r\n            if (this.suitActiveIcon.active && !isInit) {\r\n                this.world.uiMgr.showActiveSuitEffect();\r\n            }\r\n        }\r\n    },\r\n\r\n    //累计看广告按钮\r\n    onWathAdverBtnClick: function () {\r\n        var self = this;\r\n        // 关闭广告时回调\r\n        var closeFunc = function (success) {\r\n            if (self.lastCheckItem && success) {\r\n                var item = self.lastCheckItem;\r\n                self.world.taskMgr.refreshTaskInHome();\r\n                self.refresh();\r\n                self.onItemClick(null, item);\r\n                // self.world.uiMgr.showTips('累计观看广告次数+1')\r\n            }\r\n        }\r\n        // 打开广告失败时回调,失败回调\r\n        var errFunc = function () {\r\n            self.world.uiMgr.showTips(4)\r\n        }\r\n        AdvertMgr.instance.showAdver(AdverType.WatchAdver, closeFunc, errFunc);\r\n    },\r\n\r\n    onBtnClose() {\r\n        this.world.uiMgr.closePanelShop(true);\r\n    },\r\n\r\n    close: function () {\r\n        if (this.lastEquipItem) this.lastEquipItem.setEquip(false);\r\n        if (this.lastCheckItem) this.lastCheckItem.setCheck(false);\r\n        if (this.closeCallcack) this.closeCallcack();\r\n        this.world.onEquipKnifeSkin(PlayerData.instance.knifeSkin, true);\r\n        PlayerData.instance.clearNeedCheckTaskIds();\r\n        this._pageClickHistory = [];\r\n        this._itemClickHistory = {};\r\n    },\r\n\r\n    setCloseCallback: function (callback) {\r\n        this.closeCallcack = callback;\r\n    },\r\n\r\n    update: function (dt) {\r\n        if (this.propertyAnim.node.width !== this.propertyNode.width + 20) {\r\n            this.propertyAnim.node.width = this.propertyNode.width + 20;\r\n        }\r\n    }\r\n});"]}