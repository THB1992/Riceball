{"version":3,"sources":["Loading.js"],"names":["Loading","cc","Class","extends","Component","statics","properties","waitTime","needUpdate","onLoad","init","update","dt","director","loadScene"],"mappings":";;;;;;AAAA;;;;;AAKA;;;AAGA,IAAMA,UAAUC,GAAGC,KAAH,CAAS;AACrBC,aAASF,GAAGG,SADS;;AAGrBC,aAAS,EAHY;;AAOrBC,gBAAY;AACR;AACAC,kBAAU,GAFF;AAGRC,oBAAY;AAHJ,KAPS;;AAarBC,YAAQ,kBAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACI,aAAKC,IAAL;AACJ;AACH,KApCoB;;AAsCrBA,UAAM,gBAAY;AACd,aAAKH,QAAL,GAAgB,GAAhB;AACA,aAAKC,UAAL,GAAkB,IAAlB;;AAEA;AAEH,KA5CoB;;AA8CrBG,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAG,KAAKJ,UAAR,EAAoB;AAChB,iBAAKD,QAAL,IAAiBK,EAAjB;AACA,gBAAG,KAAKL,QAAL,IAAiB,CAApB,EAAuB;AACnB,qBAAKC,UAAL,GAAkB,KAAlB;AACAP,mBAAGY,QAAH,CAAYC,SAAZ,CAAsB,QAAtB;AACH;AACJ;AACJ;AAtDoB,CAAT,CAAhB","file":"Loading.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\common","sourcesContent":["/**\n * @fileoverview Loading类的实现\n * @author <liqing@gameley.cn> (李清)\n */\n\n/**\n * Loading 游戏入口\n */\nconst Loading = cc.Class({\n    extends: cc.Component,\n\n    statics: {\n\n    },\n\n    properties: {\n        // loadTips: cc.Label,\n        waitTime: 0.2,\n        needUpdate: false,\n    },\n\n    onLoad: function () {\n        // if (cc.sys.platform === cc.sys.WECHAT_GAME) {\n        //     const version = wx.getSystemInfoSync().SDKVersion;\n        //     if (Tools.compareVersion(version, '2.1.0') >= 0) {\n        //         const self = this;\n        //         cc.loader.downloader.loadSubpackage('res', function (err) {\n        //             if (err) {\n        //                 return console.error(err);\n        //             }\n        //             // console.log('load subpackage res successfully.');\n\n        //             self.init();\n        //         });\n\n        //     } else {\n        //         wx.showModal({\n        //             title: '提示',\n        //             content: '当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。'\n        //         });\n        //     }\n        // } else {\n            this.init();\n        // }\n    },\n\n    init: function () {\n        this.waitTime = 0.2;\n        this.needUpdate = true;\n\n        // cc.director.preloadScene(\"Battle\");\n\n    },\n\n    update: function (dt) {\n        if(this.needUpdate) {\n            this.waitTime -= dt;\n            if(this.waitTime <= 0) {\n                this.needUpdate = false;\n                cc.director.loadScene(\"Battle\");\n            }\n        }\n    },\n});"]}