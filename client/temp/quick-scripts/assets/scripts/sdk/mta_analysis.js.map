{"version":3,"sources":["mta_analysis.js"],"names":["MTA_CONFIG","app_id","event_id","api_base","prefix","version","stat_share_app","stat_pull_down_fresh","stat_reach_bottom","stat_param","getNetworkType","a","wx","success","b","networkType","getSystemInfo","getSystemInfoSync","adt","encodeURIComponent","model","scl","pixelRatio","scr","windowWidth","windowHeight","lg","language","fl","jv","system","tz","platform","setCloseReport","pushCloseReport","getUID","getStorageSync","setUID","getRandom","setStorageSync","getSID","setSID","c","d","Math","floor","random","f","Date","getPagePath","getCurrentPages","length","pop","__route__","getMainInfo","dm","url","getQuery","MTA","Data","pageQuery","pvi","si","ty","getBasicInfo","ct","getExtentInfo","userInfo","hasOwnProperty","push","join","r2","r4","ext","ignoreParams","ignore_params","indexOf","initOnload","Page","init","App","appID","eventID","statShareApp","statPullDownFresh","statReachBottom","statParam","lanchInfo","lauchOpts","landing","autoReport","stat","onPullDownRefresh","Event","apply","arguments","onReachBottom","onShareAppMessage","multiStat","onShow","call","ht","scene","_mta_ref_id","rarg","e","rdm","rurl","lastPageUrl","lastPageQuery","rand","request","toLowerCase","k","g","r5","h","pageUrl","show","module","exports"],"mappings":"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","file":"mta_analysis.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sdk","sourcesContent":["var MTA_CONFIG = {\r\n    app_id: \"\",\r\n    event_id: \"\",\r\n    api_base: \"https://pingtas.qq.com/pingd\",\r\n    prefix: \"_mta_\",\r\n    version: \"1.3.6\",\r\n    stat_share_app: !1,\r\n    stat_pull_down_fresh: !1,\r\n    stat_reach_bottom: !1,\r\n    stat_param: !0\r\n};\r\n\r\nfunction getNetworkType(a) {\r\n    wx.getNetworkType({\r\n        success: function (b) {\r\n            a(b.networkType)\r\n        }\r\n    })\r\n}\r\n\r\nfunction getSystemInfo() {\r\n    var a = wx.getSystemInfoSync();\r\n    return {\r\n        adt: encodeURIComponent(a.model),\r\n        scl: a.pixelRatio,\r\n        scr: a.windowWidth + \"x\" + a.windowHeight,\r\n        lg: a.language,\r\n        fl: a.version,\r\n        jv: encodeURIComponent(a.system),\r\n        tz: encodeURIComponent(a.platform)\r\n    }\r\n}\r\n\r\nfunction setCloseReport() {}\r\n\r\nfunction pushCloseReport() {}\r\n\r\nfunction getUID() {\r\n    try {\r\n        return wx.getStorageSync(MTA_CONFIG.prefix + \"auid\")\r\n    } catch (a) {}\r\n}\r\n\r\nfunction setUID() {\r\n    try {\r\n        var a = getRandom();\r\n        wx.setStorageSync(MTA_CONFIG.prefix + \"auid\", a);\r\n        return a\r\n    } catch (b) {}\r\n}\r\n\r\nfunction getSID() {\r\n    try {\r\n        return wx.getStorageSync(MTA_CONFIG.prefix + \"ssid\")\r\n    } catch (a) {}\r\n}\r\n\r\nfunction setSID() {\r\n    try {\r\n        var a = \"s\" + getRandom();\r\n        wx.setStorageSync(MTA_CONFIG.prefix + \"ssid\", a);\r\n        return a\r\n    } catch (b) {}\r\n}\r\n\r\nfunction getRandom(a) {\r\n    for (var b = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], c = 10; 1 < c; c--) {\r\n        var d = Math.floor(10 * Math.random()),\r\n            f = b[d];\r\n        b[d] = b[c - 1];\r\n        b[c - 1] = f\r\n    }\r\n    for (c = d = 0; 5 > c; c++) d = 10 * d + b[c];\r\n    return (a || \"\") + (d + \"\" + +new Date)\r\n}\r\n\r\nfunction getPagePath() {\r\n    try {\r\n        var a = getCurrentPages(),\r\n            b = \"/\";\r\n        0 < a.length && (b = a.pop().__route__);\r\n        return b\r\n    } catch (c) {\r\n        // console.log(\"get current page path error:\" + c)\r\n        return '/';\r\n    }\r\n}\r\n\r\nfunction getMainInfo() {\r\n    var a = {\r\n        dm: \"wechat.apps.xx\",\r\n        url: encodeURIComponent(getPagePath() + getQuery(MTA.Data.pageQuery)),\r\n        pvi: \"\",\r\n        si: \"\",\r\n        ty: 0\r\n    };\r\n    a.pvi = function () {\r\n        var b = getUID();\r\n        b || (b = setUID(), a.ty = 1);\r\n        return b\r\n    }();\r\n    a.si = function () {\r\n        var a = getSID();\r\n        a || (a = setSID());\r\n        return a\r\n    }();\r\n    return a\r\n}\r\n\r\nfunction getBasicInfo() {\r\n    var a = getSystemInfo();\r\n    getNetworkType(function (a) {\r\n        try {\r\n            wx.setStorageSync(MTA_CONFIG.prefix + \"ntdata\", a)\r\n        } catch (c) {}\r\n    });\r\n    a.ct = wx.getStorageSync(MTA_CONFIG.prefix + \"ntdata\") || \"4g\";\r\n    return a\r\n}\r\n\r\nfunction getExtentInfo() {\r\n    var a = MTA.Data.userInfo;\r\n    var b = [],\r\n        c;\r\n    for (c in a) a.hasOwnProperty(c) && b.push(c + \"=\" + a[c]);\r\n    a = b.join(\";\");\r\n    return {\r\n        r2: MTA_CONFIG.app_id,\r\n        r4: \"wx\",\r\n        ext: \"v=\" + MTA_CONFIG.version + (null !== a && \"\" !== a ? \";ui=\" + encodeURIComponent(a) : \"\")\r\n    }\r\n}\r\n\r\nfunction getQuery(a) {\r\n    if (!MTA_CONFIG.stat_param || !a) return \"\";\r\n    a = ignoreParams(a);\r\n    var b = [],\r\n        c;\r\n    for (c in a) b.push(c + \"=\" + a[c]);\r\n    return 0 < b.length ? \"?\" + b.join(\"&\") : \"\"\r\n}\r\n\r\nfunction ignoreParams(a) {\r\n    if (1 > MTA_CONFIG.ignore_params.length) return a;\r\n    var b = {},\r\n        c;\r\n    for (c in a) 0 <= MTA_CONFIG.ignore_params.indexOf(c) || (b[c] = a[c]);\r\n    return b\r\n}\r\n\r\nfunction initOnload() {\r\n    // var a = Page;\r\n    // Page = function (b) {\r\n    //     var c = b.onLoad;\r\n    //     b.onLoad = function (a) {\r\n    //         c && c.call(this, a);\r\n    //         MTA.Data.lastPageQuery = MTA.Data.pageQuery;\r\n    //         MTA.Data.pageQuery = a;\r\n    //         MTA.Data.lastPageUrl = MTA.Data.pageUrl;\r\n    //         MTA.Data.pageUrl = getPagePath();\r\n    //         MTA.Data.show = !1;\r\n            MTA.Page.init()\r\n    //     };\r\n    //     a(b)\r\n    // }\r\n}\r\nvar MTA = {\r\n    App: {\r\n        init: function (a) {\r\n            \"appID\" in a && (MTA_CONFIG.app_id = a.appID);\r\n            \"eventID\" in a && (MTA_CONFIG.event_id = a.eventID);\r\n            \"statShareApp\" in a && (MTA_CONFIG.stat_share_app = a.statShareApp);\r\n            \"statPullDownFresh\" in a && (MTA_CONFIG.stat_pull_down_fresh = a.statPullDownFresh);\r\n            \"statReachBottom\" in a && (MTA_CONFIG.stat_reach_bottom = a.statReachBottom);\r\n            \"ignoreParams\" in a && (MTA_CONFIG.ignore_params = a.ignoreParams);\r\n            \"statParam\" in a && (MTA_CONFIG.stat_param = a.statParam);\r\n            setSID();\r\n            try {\r\n                \"lauchOpts\" in a && (MTA.Data.lanchInfo = a.lauchOpts,\r\n                    MTA.Data.lanchInfo.landing = 1)\r\n            } catch (b) {}\r\n            \"autoReport\" in a && a.autoReport && initOnload()\r\n        }\r\n    },\r\n    Page: {\r\n        init: function () {\r\n            var a = wx;\r\n            // var a = getCurrentPages()[getCurrentPages().length - 1];\r\n            // a.onShow && ! function () {\r\n            //     var b = a.onShow;\r\n            //     a.onShow = function () {\r\n            //         if (!0 === MTA.Data.show) {\r\n            //             var a = MTA.Data.lastPageQuery;\r\n            //             MTA.Data.lastPageQuery = MTA.Data.pageQuery;\r\n            //             MTA.Data.pageQuery = a;\r\n            //             MTA.Data.lastPageUrl = MTA.Data.pageUrl;\r\n            //             MTA.Data.pageUrl = getPagePath()\r\n            //         }\r\n            //         MTA.Data.show = !0;\r\n                    MTA.Page.stat();\r\n            //         b.apply(this, arguments)\r\n            //     }\r\n            // }();\r\n            MTA_CONFIG.stat_pull_down_fresh && a.onPullDownRefresh &&\r\n                ! function () {\r\n                    var b = a.onPullDownRefresh;\r\n                    a.onPullDownRefresh = function () {\r\n                        MTA.Event.stat(MTA_CONFIG.prefix + \"pulldownfresh\", {\r\n                            url: a.__route__\r\n                        });\r\n                        b.apply(this, arguments)\r\n                    }\r\n                }();\r\n            MTA_CONFIG.stat_reach_bottom && a.onReachBottom && ! function () {\r\n                var b = a.onReachBottom;\r\n                a.onReachBottom = function () {\r\n                    MTA.Event.stat(MTA_CONFIG.prefix + \"reachbottom\", {\r\n                        url: a.__route__\r\n                    });\r\n                    b.apply(this, arguments)\r\n                }\r\n            }();\r\n            MTA_CONFIG.stat_share_app && a.onShareAppMessage && ! function () {\r\n                var b = a.onShareAppMessage;\r\n                a.onShareAppMessage = function () {\r\n                    MTA.Event.stat(MTA_CONFIG.prefix +\r\n                        \"shareapp\", {\r\n                            url: a.__route__\r\n                        });\r\n                    return b.apply(this, arguments)\r\n                }\r\n            }()\r\n        },\r\n        multiStat: function (a, b) {\r\n            if (1 == b) MTA.Page.stat(a), !0;\r\n            else {\r\n                var c = getCurrentPages()[getCurrentPages().length - 1];\r\n                c.onShow && ! function () {\r\n                    var b = c.onShow;\r\n                    c.onShow = function () {\r\n                        MTA.Page.stat(a);\r\n                        b.call(this, arguments)\r\n                    }\r\n                }()\r\n            }\r\n        },\r\n        stat: function (a) {\r\n            if (\"\" != MTA_CONFIG.app_id) {\r\n                var b = [],\r\n                    c = getExtentInfo();\r\n                a && (c.r2 = a);\r\n                a = [getMainInfo(), c, getBasicInfo()];\r\n                if (MTA.Data.lanchInfo) {\r\n                    a.push({\r\n                        ht: MTA.Data.lanchInfo.scene\r\n                    });\r\n                    MTA.Data.pageQuery && MTA.Data.pageQuery._mta_ref_id &&\r\n                        a.push({\r\n                            rarg: MTA.Data.pageQuery._mta_ref_id\r\n                        });\r\n                    try {\r\n                        1 == MTA.Data.lanchInfo.landing && (c.ext += \";lp=1\", MTA.Data.lanchInfo.landing = 0)\r\n                    } catch (e) {}\r\n                }\r\n                a.push({\r\n                    rdm: \"/\",\r\n                    rurl: encodeURIComponent(MTA.Data.lastPageUrl + getQuery(MTA.Data.lastPageQuery))\r\n                });\r\n                a.push({\r\n                    rand: +new Date\r\n                });\r\n                c = 0;\r\n                for (var d = a.length; c < d; c++)\r\n                    for (var f in a[c]) a[c].hasOwnProperty(f) && b.push(f + \"=\" + (\"undefined\" == typeof a[c][f] ? \"\" : a[c][f]));\r\n                wx.request({\r\n                    url: MTA_CONFIG.api_base + \"?\" + b.join(\"&\").toLowerCase()\r\n                })\r\n            }\r\n        }\r\n    },\r\n    Event: {\r\n        stat: function (a, b) {\r\n            if (\"\" != MTA_CONFIG.event_id) {\r\n                var c = [],\r\n                    d = getMainInfo(),\r\n                    f = getExtentInfo();\r\n                d.dm = \"wxapps.click\";\r\n                d.url = a;\r\n                f.r2 = MTA_CONFIG.event_id;\r\n                var e = \"undefined\" === typeof b ? {} : b;\r\n                var k = [],\r\n                    g;\r\n                for (g in e) e.hasOwnProperty(g) && k.push(encodeURIComponent(g) + \"=\" + encodeURIComponent(e[g]));\r\n                e = k.join(\";\");\r\n                f.r5 = e;\r\n                e = 0;\r\n                d = [d, f, getBasicInfo(), {\r\n                    rand: +new Date\r\n                }];\r\n                for (f = d.length; e < f; e++)\r\n                    for (var h in d[e]) d[e].hasOwnProperty(h) && c.push(h + \"=\" + (\"undefined\" == typeof d[e][h] ? \"\" : d[e][h]));\r\n                wx.request({\r\n                    url: MTA_CONFIG.api_base + \"?\" + c.join(\"&\").toLowerCase()\r\n                })\r\n            }\r\n        }\r\n    },\r\n    Data: {\r\n        userInfo: null,\r\n        lanchInfo: null,\r\n        pageQuery: null,\r\n        lastPageQuery: null,\r\n        pageUrl: \"\",\r\n        lastPageUrl: \"\",\r\n        show: !1\r\n    }\r\n};\r\nmodule.exports = MTA;"]}